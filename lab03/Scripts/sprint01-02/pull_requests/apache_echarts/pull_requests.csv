number,created_at,merged_at,closed_at,files,additions,deletions,body_text,participants,comments
6576,2017-09-01T16:34:20Z,2017-09-08T13:10:17Z,2017-09-08T13:10:17Z,1,6,2,Fixes #6165,2,0
6728,2017-09-20T13:15:29Z,2017-11-15T17:09:20Z,2017-11-15T17:09:20Z,3,213,2,"I would like to propose the following pull request in reference to issue fixing #4862
针对问题 #4862， 我想提供一个合并请求。
Summary
概述
Rescale relevant base axis (of time and interval) to account for overflow of bars beyond chart.
伸缩相关的坐标轴（时间和区间）来解决长条溢出图表的问题
Overview of changes
修改简述
Two files edited.
共修改了两个文件
AxisHelper.js => has additional function to rescale axis
AxisHelper.js => 添加了伸缩坐标的函数
barGrid.js => export calBarWidthAndOffset
barGrid.js => 添加了calBarWidthAndOffset
Proposed changes
所做的修改

If axis is (time or interval) and has more then one bar and is a base axis
=> Recalculate axis min / max to account for bar overflow
如果坐标轴是时间或区间，并且有多个长条，并且次坐标为基本坐标，
那么伸缩坐标的最小最大值来解决长条溢出问题
Calculate physical length of current axis
计算现有坐标的物理长度
Calculate placement of bars on current axis
计算长条在坐标上的位置
Use current baseAxis to select bars on relevant axis
用当前的基本坐标来选择在相应坐标上的长条
=> If no bars on current axis return current max / min
如果，没有长条，那么返回当前的最大最小值
Rescale axis to account for overflow on each side of the chart
伸缩坐标来解决溢出问题
Return new axis min / max
返回新的最大最小值

Test
I have updated to include a test in file bar-overflow-time-plot.html
Extra
This issue also occurs with candlestick plotting on ordinal axis.
This could also be corrected with a similar function.
This can be seen in https://ecomfe.github.io/echarts-examples/public/editor.html?c=candlestick-sh",6,5
7484,2018-01-14T00:12:38Z,2018-03-05T08:08:11Z,2018-03-05T08:08:11Z,2,390,30,"when it is ready, please commit my patch.",3,0
7956,2018-03-16T08:07:38Z,2018-04-05T19:10:46Z,2018-04-05T19:10:46Z,2,134,1,,3,1
8049,2018-03-28T16:58:48Z,2020-01-09T14:22:18Z,2020-01-09T14:22:18Z,2,25,13,#4627 解决 Tooltip 被其它图形遮挡的问题,7,5
8425,2018-05-30T03:42:10Z,,2018-08-15T13:56:33Z,80,3758,1446,,6,1
8486,2018-06-07T15:14:26Z,2019-02-14T09:06:45Z,2019-02-14T09:06:45Z,1,4,2,I added a jsDelivr CDN link to your readme to make it easier to use. jsDelivr is the fastest opensource CDN available and has a big network in China too.,2,0
8490,2018-06-08T06:26:14Z,,2021-11-26T21:04:26Z,1,2,2,"The values in the valueWindow array could be null. When the toFixed function is invoked, that will cause a TypeError.
https://github.com/apache/incubator-echarts/blob/5cce1e77ee8096e32ca30654385c45d22335affd/src/component/dataZoom/AxisProxy.js#L204
https://github.com/apache/incubator-echarts/blob/5cce1e77ee8096e32ca30654385c45d22335affd/src/component/dataZoom/AxisProxy.js#L484-L485",5,6
8513,2018-06-13T03:21:11Z,,2021-09-04T05:42:39Z,1,5,3,avoid label of the pie chart out of range by the avoidLabelOverlap,5,6
8759,2018-07-26T08:37:29Z,2018-09-21T07:21:23Z,2018-09-21T07:21:23Z,1,14,4,"The value of the fan page of the pie chart is less than a certain value.  The label and labelLine of this fan page are not displayed.
Funnel plot position increase insideLeft and insideRight attributes.

Add the limitScale parameter under series. Label, and the parameter value is greater than 0 and less than 1.
To ensure that the pie chart does not show label and labelLine on the fan page that is less than a certain value.
options={
  title: {
    text: '饼图标题',
    left: 16,
    textStyle: {
      fontSize: 14
    }
  },
  tooltip: {
    trigger: 'item',
    axisPointer: {
      //坐标轴指示器，坐标轴触发有效type: 'shadow'//默认为直线，可选为：'line'|'shadow'
    },
    extraCssText: 'max-width: 300px; word-break:break-all; white-space: normal'
  },
  legend: {
    data: [
      
    ]
  },
  series: [
    {
      type: 'pie',
      label: {
        normal: {
          show: true,
          limitScale: 0.02//小于2%的，不显示
        },
        emphasis: {
          show: true,
          textStyle: {
            fontSize: '14',
            fontWeight: 'bold'
          }
        }
      },
      labelLine: {
        lineStyle: {
          color: '#D9D9D9'
        }
      },
      data: [
        
      ]
    }
  ]
};",2,26
8872,2018-08-15T06:23:12Z,,2018-08-27T04:19:55Z,1,4,0,"Issues: #8791
问题：修复极坐标因为文字长度会影响显示问题
方案： 在radiusAxis.axisLabel中新增属性：showAll，用于显示所有标签
实例如下：
var option = {
            angleAxis: {},
            radiusAxis: {
                type: 'category',
                data: ['周一11', '周二222', '周三333333333333', '周四4444444444444444444444444444'],
                z: 10,
                axisLabel: {
                    showAll: true
                }
            },
            polar: {},
            series: [{
                type: 'bar',
                data: [1, 2, 3, 4],
                coordinateSystem: 'polar',
                name: 'A',
                stack: 'a'
            }, {
                type: 'bar',
                data: [2, 4, 6, 8],
                coordinateSystem: 'polar',
                name: 'B',
                stack: 'a'
            }, {
                type: 'bar',
                data: [1, 2, 3, 4],
                coordinateSystem: 'polar',
                name: 'C',
                stack: 'a'
            }],
            legend: {
                show: true,
                data: ['A', 'B', 'C']
            }
        };",2,0
8997,2018-09-03T10:23:26Z,2019-01-09T14:10:07Z,2019-01-09T14:10:07Z,1,16,6,"The value of the fan page of the pie chart is less than a certain value. The label and labelLine of this fan page are not displayed.
options={
  title: {
    text: '饼图标题',
    left: 16,
    textStyle: {
      fontSize: 14
    }
  },
  tooltip: {
    trigger: 'item',
    axisPointer: {
      //坐标轴指示器，坐标轴触发有效type: 'shadow'//默认为直线，可选为：'line'|'shadow'
    },
    extraCssText: 'max-width: 300px; word-break:break-all; white-space: normal'
  },
  legend: {
    data: [
      
    ]
  },
  series: [
    {
      type: 'pie',
      label: {
        normal: {
          show: true,
          limitScale: 0.02//小于2%的，不显示
        },
        emphasis: {
          show: true,
          textStyle: {
            fontSize: '14',
            fontWeight: 'bold'
          }
        }
      },
      labelLine: {
        lineStyle: {
          color: '#D9D9D9'
        }
      },
      data: [
        
      ]
    }
  ]
};",3,15
9149,2018-09-29T10:16:35Z,,2019-01-14T04:02:09Z,1,4,1,"clockwise设置为false后，sector是逆时针渲染了，但是其它元素是顺时针渲染，且并没有逆时针渲染的选项
ps：for 滚成一团",2,5
9162,2018-10-03T19:26:50Z,2018-10-15T08:22:02Z,2018-10-15T08:22:02Z,1,12,1,另外：如果data中包含非Number类型，animation 过程中移动鼠标，导致连接线消失,2,5
9171,2018-10-08T06:34:32Z,2018-11-04T13:54:33Z,2018-11-04T13:54:33Z,1,20,7,fix Issue #8009 & #5969,3,8
9195,2018-10-10T19:15:37Z,2018-10-11T05:37:16Z,2018-10-11T05:37:16Z,1,4,3,As described in  #9194 - echarts ignores axisLine.show option. Support for this option added by this commit.,2,3
9210,2018-10-12T03:34:54Z,2018-10-23T05:32:28Z,2018-10-23T05:32:28Z,1,4,2,"when series[i].type is graph, series[i].label.rotate is invalid",3,9
9238,2018-10-16T08:30:34Z,2018-10-29T16:10:33Z,2018-10-29T16:10:33Z,1,8,0,"maybe a idea, check again please",3,3
9273,2018-10-24T20:56:37Z,,2021-09-10T07:07:27Z,2,969,8,"As noted in the issue #8444 the align option of the nameTextStyle seems to be ignored.
This could also be the solution to the problem reported in #8046",3,3
9296,2018-10-29T17:11:49Z,,2020-12-19T08:30:13Z,1,59,0,,2,1
9388,2018-11-12T14:06:36Z,2019-05-07T16:17:47Z,2019-05-07T16:17:47Z,1,21,5,"this.dimensions is Array. When dim is ""0"", it will be selected by numerical index.
So, I increased the type of judgment.",2,1
9421,2018-11-16T12:06:46Z,2019-05-14T07:32:39Z,2019-05-14T07:32:39Z,1,41,1,"series.label.position   Add rightTop,rightBottom,leftTop and leftBottom
     var option = {
            title: {
                text: '漏斗图',
                subtext: '纯属虚构'
            },
            tooltip: {
                trigger: 'item',
                formatter: ""{a} <br/>{b} : {c}%""
            },
            toolbox: {
                feature: {
                    dataView: {readOnly: false},
                    restore: {},
                    saveAsImage: {}
                }
            },
            legend: {
                data: ['展现','点击','访问','咨询','订单']
            },
            calculable: true,
            series: [
                {
                    name:'漏斗图',
                    type:'funnel',
                    left: '10%',
                    top: 60,
                    //x2: 80,
                    bottom: 60,
                    width: '80%',
                    // height: {totalHeight} - y - y2,
                    min: 0,
                    max: 100,
                    minSize: '0%',
                    maxSize: '100%',
                    sort: 'descending',
                    gap: 2,
                    label: {
                        normal: {
                            show: true,
                            position: 'leftTop',
                            verticalAlignment:true
                        },
                        emphasis: {
                            textStyle: {
                                fontSize: 20
                            }
                        }
                    },
                    labelLine: {
                        normal: {
                            length: 10,
                            lineStyle: {
                                width: 1,
                                type: 'solid'
                            }
                        }
                    },
                    itemStyle: {
                        normal: {
                            borderColor: '#fff',
                            borderWidth: 1
                        }
                    },
                    data: [
                        {value: 60, name: '访问'},
                        {value: 40, name: '咨询'},
                        {value: 20, name: '订单'},
                        {value: 80, name: '点击'},
                        {value: 100, name: '展现'}
                    ]
                }
            ]
        };",2,1
9424,2018-11-18T14:18:48Z,2019-02-14T08:17:24Z,2019-02-14T08:17:24Z,1,1,0,Added echarts4r to R ports of ECharts: ECharts 4 for R.,2,0
9517,2018-12-03T14:26:37Z,,2021-09-13T21:04:09Z,1,6,1,"legend: {
                        orient: 'vertical',
                        left: 'left',
                        disabled:{
                            '邮件营销':true
                        },
                        data: ['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']
                    },",3,6
9641,2018-12-26T00:34:51Z,2019-01-31T03:53:58Z,2019-01-31T03:53:58Z,1,59,0,,2,1
9664,2018-12-31T02:36:09Z,2019-02-24T19:47:10Z,2019-02-24T19:47:10Z,1,10,4,"series->symbol支持函数类型
如果需要每个数据的图形不一样，可以设置为如下格式的回调函数：
(value: Array|number, params: Object) => number|Array
eg.
symbol: function (value, params) {
  return `${symbol}`;
}

注：返回的symbol支持类型同之前",3,6
9744,2019-01-13T08:26:37Z,,2020-11-07T07:56:14Z,1,14,11,@Ovilia 不好意思，分支被我弄丢了，我重新提了个PR,2,3
9750,2019-01-14T07:57:46Z,2019-01-31T06:18:06Z,2019-01-31T06:18:06Z,1,3,5,"clientWidth and clientHeight contains padding, so it should be excluded in getComputedStyle.",4,2
9799,2019-01-18T21:21:34Z,2019-01-23T09:05:34Z,2019-01-23T09:05:34Z,1,1,0,,2,1
9817,2019-01-22T09:37:30Z,2019-01-23T14:04:35Z,2019-01-23T14:04:35Z,1,4,0,,2,0
9834,2019-01-23T14:05:29Z,2019-01-23T15:14:11Z,2019-01-23T15:14:11Z,13,197,230,,2,0
9836,2019-01-23T17:41:17Z,2019-01-24T06:33:48Z,2019-01-24T06:33:48Z,28,9582,6220,,2,0
9844,2019-01-27T19:52:30Z,2019-01-28T12:55:45Z,2019-01-28T12:55:45Z,28,9585,6223,Rebase merge.,2,0
9848,2019-01-28T04:38:35Z,2019-01-28T14:18:50Z,2019-01-28T14:18:50Z,1,1,2,zrender was listed as both a dependency and a devDependency,2,0
9849,2019-01-28T04:45:19Z,,2019-01-29T02:50:21Z,1,1,1,"zrender 4.0.5 causes a npm install error.
This version upgrade fixes #9774",3,5
9876,2019-01-31T03:31:52Z,2019-01-31T06:13:43Z,2019-01-31T06:13:43Z,1,60,0,,2,0
9892,2019-02-04T13:36:16Z,2019-02-14T08:15:14Z,2019-02-14T08:15:14Z,1,2,2,"""Hence"" instead of  ""Hance"".",4,1
9897,2019-02-07T13:03:44Z,2019-02-14T08:13:25Z,2019-02-14T08:13:25Z,1,1,1,"""forbidden"" instead of ""forbinden"".",2,1
9918,2019-02-14T08:51:59Z,2019-02-15T05:34:52Z,2019-02-15T05:34:52Z,1,4,0,"#9688 was caused by clipPath angle in expansion animation being NaN due to layout value being NaN.
In this fix, data '-' is considered the same as 0, only that the label is not displayed.",3,0
9927,2019-02-17T13:48:12Z,,2019-08-01T05:16:20Z,52,2854,1474,So the legend can gets the color of line,7,4
9929,2019-02-18T02:45:04Z,2019-02-18T04:19:56Z,2019-02-18T04:19:56Z,3,13,1,"ECharts CI status can be seen at https://travis-ci.org/apache/incubator-echarts.
Notice that Apache uses .org instead of .com.
See #9850 for more discussion on CI stuff.",2,0
9931,2019-02-18T13:31:50Z,2019-07-31T06:59:18Z,2019-07-31T06:59:18Z,1,4,5,"So effect color can be configable, by default effect color is itemStyle.color
{
  type: 'effectScatter',
  rippleEffect: {
    // new option, effect color
    color: 'red',
    brushType: 'stroke'
  }
}",2,2
9940,2019-02-19T10:19:11Z,,2021-09-13T21:04:55Z,1,23,7,"Fix #9916. When itemStyle.color is a function, the legend's color may be uncontrollable.",2,6
9977,2019-02-24T09:29:44Z,,2019-04-01T03:58:56Z,1,7,0,"Adds a configurable option under axisLabel property to allow users to hideDuplicates (boolean)

Closes #9896",4,8
9981,2019-02-24T20:12:04Z,2019-02-25T04:09:53Z,2019-02-25T04:09:53Z,3,151,12,,2,1
9993,2019-02-26T09:04:56Z,2019-02-28T06:09:26Z,2019-02-28T06:09:26Z,1,1,1,#9563,2,1
9995,2019-02-26T13:05:05Z,2019-02-26T14:12:15Z,2019-02-26T14:12:15Z,2,55,66,,2,2
9996,2019-02-26T14:05:30Z,2019-02-27T18:10:17Z,2019-02-27T18:10:17Z,2,40,1,"Fix  calculate label bounding rect error when rich used
(e.g., containLabel: true while axisLabel has rich)",2,0
10002,2019-02-27T09:06:33Z,2019-02-27T15:59:09Z,2019-02-27T15:59:09Z,1,34,42,Divide the computeNodeBreadths() function in sankeyLayout.js into several small functions.,2,0
10008,2019-02-27T18:52:57Z,2019-02-28T06:41:31Z,2019-02-28T06:41:31Z,15,219,13,,2,0
10036,2019-03-04T07:11:13Z,2019-03-26T19:19:48Z,2019-03-26T19:19:48Z,1,1,1,"fix bug #9282

Add a defensive statement for axisModel.getCategories,  so axisLabel of chart radar can display correctly (cannot trigger event though, which isn't used widely).
It's a temporary solution until axisLabel of chart radar supported in the next release.",3,2
10038,2019-03-04T07:37:51Z,2019-03-06T05:29:45Z,2019-03-06T05:29:45Z,1,2,1,"Add seriesId field in pieselectchanged event.
Fix #9830 .",2,0
10051,2019-03-06T04:25:57Z,2019-03-06T06:05:16Z,2019-03-06T06:05:16Z,2,138,2,"fix: axis name align not working bug #9901
Axis name had no effect.
In this fix, option in nameTextStyle.align and nameTextStyle.verticalAlign are used to overwrite those computed automatically from endTextLayout() and innerTextLayout().",2,1
10052,2019-03-06T06:35:41Z,2019-03-25T14:58:18Z,2019-03-25T14:58:18Z,2,1371,1,"Add package-lock.json
Used npm audit fix to upgrade some npm package versions

Fix #10040",2,0
10062,2019-03-07T12:10:29Z,2019-03-08T07:18:09Z,2019-03-08T07:18:09Z,2,79,20,"Update contributing file, which will be displayed when one is opening an issue or pull request. We may add a link to it later in README.md if necessary.
@ClemMakesApps @jivanvl Please help to check.",5,3
10072,2019-03-08T07:25:00Z,2019-03-09T03:59:09Z,2019-03-09T03:59:09Z,1,7,0,,2,0
10076,2019-03-09T04:02:59Z,2019-03-09T05:07:40Z,2019-03-09T05:07:40Z,1,2,2,,2,0
10129,2019-03-19T06:45:42Z,,2019-04-22T05:03:23Z,2,2,2,,2,0
10132,2019-03-19T12:18:59Z,2019-03-25T08:30:02Z,2019-03-25T08:30:02Z,1,5,5,"We won't use $a for IE and edge. In addition, there's no document object in web worker. So we'd better don't create an element if we don't need to.
Ref: #9232",2,1
10138,2019-03-20T20:41:34Z,2019-03-21T10:24:20Z,2019-03-21T10:24:20Z,1,1,1,,2,0
10173,2019-03-27T16:46:47Z,2019-03-28T04:39:18Z,2019-03-28T04:39:18Z,4,90,9,rebase merge,3,0
10196,2019-04-02T05:06:06Z,2019-04-04T18:19:54Z,2019-04-04T18:19:54Z,1,1,0,"React component echarts. 组件式百度图表。

GitHub: https://github.com/dawiwt/react-component-echarts
Example: https://dawiwt.github.io/react-component-echarts
Tool: https://dawiwt.github.io/react-component-echarts/tools.html",2,1
10201,2019-04-02T12:01:51Z,,2021-05-12T16:41:19Z,2,72,18,fix #10191,5,10
10205,2019-04-03T07:12:56Z,2019-04-15T05:43:37Z,2019-04-15T05:43:38Z,3,185,0,"toolbox.feature.saveAsImage.connectedBackgroundColor can be used to set the background color.
Fix #10099.
Document changes are available at apache/echarts-doc@18983da , which should be merged after this PR is accepted.",2,0
10221,2019-04-04T11:40:36Z,,2020-11-12T10:10:32Z,1,6,8,Fix #10210,4,2
10231,2019-04-08T10:37:12Z,2019-04-11T07:15:25Z,2019-04-11T07:15:25Z,2,159,4,"#10202 Requested a more flexible toolbox label configuring method. This PR fulfills that requirement but the little triangle in the design of https://gitlab.com/gitlab-org/gitlab-ce/issues/57130 is not supported.
Requirement:

Example of what you can get from this PR:

The text color, background color, border radius, text padding can all be configured.
But the small triangle is currently not supported, because we have to add new option entry for that and thus needs further discussion. @jivanvl Please see if this meets your requirement.

In this PR, I added support for several options for toolbox.emphasis.iconStyle, namely:

textPosition, textFill, textAlign: these options were supported but have no effect for settings in  toolbox.emphasis.iconStyle.xxx due to a bug and they were fixed in this PR.
textBackgroundColor, textBorderRadius, textPadding: these are newly supported options.

They can be set in toolbox.emphasis.iconStyle for all features, or toolbox.feature.XXX.emphasis.iconStyle for a specific feature XXX.
option = {
    toolbox: {
        show: true,
        feature: {
            saveAsImage: {
                show: true,
                title: 'Save as Image',
                emphasis: {
                    iconStyle: {
                        textFill: 'red'
                    }
                }
            },
            restore: {
                show: true,
                title: 'Restore'
            }
        }
        emphasis: {
            iconStyle: {
                textBackgroundColor: '#222',
                textFill: '#ddd',
                textBorderRadius: 3,
                textPadding: [5, 8],
                textPosition: 'top'
            }
        }
    },
    ...
}",2,0
10250,2019-04-10T05:06:00Z,2019-06-18T15:44:14Z,2019-06-18T15:44:14Z,1,2,0,#10248,4,2
10251,2019-04-10T08:07:59Z,2019-04-12T03:03:44Z,2019-04-12T03:03:44Z,3,153,1,"To support HTML for toolbox title as mentioned in #10202, I propose in this PR the support of tooltip for toolbox.

This is what you can get with the following option:
option = {
    tooltip: {
        show: true // include tooltip component for the feature
    },
    toolbox: {
        show: true,
        showTitle: false, // hide the default text so they don't overlap each other
        feature: {
            saveAsImage: {
                show: true,
                title: 'Save As Image'
            },
            dataView: {
                show: true,
                title: 'Data View'
            },
        },
        tooltip: { // same as option.tooltip
            show: true,
            formatter: function (param) {
                return param.title; // which is the same as not setting formatter
            },
            backgroundColor: '#222',
            textStyle: {
                fontSize: 12,
            },
            extraCssText: 'box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);'
        }
    },
    ...
}
To view the full code, please refer to https://github.com/apache/incubator-echarts/compare/fix-10202-tooltip?expand=1#diff-a783f3a6dbf5fa1d9f54baeb8024f2e9 .
Note that there are a few differences from the result of #10231:

It generates a <div> DOM element in the container (the same as that of the series tooltip) in this PR, so that users may use extraCssText to have better control of the style.
The position of the text is moving according to the mouse position in this PR (to compile with the behavior of other tooltips), while #10231 has a fixed position which is at the bottom of the icon by default. I think both logic makes sense from the perspective of UI design.

I'd suggest this PR and #10231 can be both accepted, and users may choise either (even both for some cases) as they wish.",3,2
10295,2019-04-15T21:10:06Z,2019-05-06T03:35:08Z,2019-05-06T03:35:08Z,1,32,0,,2,2
10319,2019-04-18T07:33:28Z,2019-04-18T14:00:32Z,2019-04-18T14:00:32Z,1,1,1,Checked and passed test/axis-lastLabel.html.,2,0
10329,2019-04-21T19:39:37Z,2019-04-22T05:02:59Z,2019-04-22T05:02:59Z,4,85,17,,2,0
10346,2019-04-23T08:14:43Z,2019-05-05T06:09:43Z,2019-05-05T06:09:43Z,1,1,1,"…nding line won't show (#10343)
Close #10343",3,4
10375,2019-04-28T02:35:07Z,,2019-09-10T15:46:07Z,1,3,0,"Calcule stack value before data extend caclulation
Close #10359",2,1
10410,2019-05-07T15:08:35Z,,2019-09-06T09:05:45Z,1,5,4,fix bug #10291,3,0
10437,2019-05-11T01:08:34Z,2019-05-30T13:10:11Z,2019-05-30T13:10:11Z,2,3,0,"Close #10403
Close #10180",3,1
10441,2019-05-11T14:28:20Z,,2019-07-24T02:16:40Z,1,6,2,"Few options is missing in document: option.title.x and option.title.y.
option.title.x is horizontal baseline, option.title.y is vertical baseline,
Add two options to subtextStyle: title.subtextStyle.x is offsetX base on option.title.x and title.subtextStyle.y is offsetY base on option.title.y
I will create a PR in echarts-doc to add those infos.
Inspiration came from this issue #9980",2,0
10442,2019-05-12T05:21:51Z,,2019-07-24T02:18:31Z,1,1,1,"According to documentation axis scale shouldn't work if min or max is set.
https://echarts.apache.org/option.html#xAxis.scale
Close #10389",2,5
10444,2019-05-12T16:25:58Z,2019-05-13T04:54:58Z,2019-05-13T04:54:58Z,4,228,181,,2,0
10448,2019-05-13T03:00:23Z,2019-05-15T11:50:37Z,2019-05-15T11:50:38Z,1,10,2,Close #10045,2,0
10465,2019-05-14T18:03:31Z,2019-05-15T11:15:37Z,2019-05-15T11:15:37Z,3,102,13,,2,0
10481,2019-05-16T02:07:28Z,2019-05-22T08:48:53Z,2019-05-22T08:48:53Z,2,10,2,"当尝试使用这种方式时，控制台报错symbolType.indexOf is not a function,我尝试过3.8到4.2.1都没有解决。
 symbol: function (value) {
            if (value > 200) {
                return 'circle'
            }
            return 'rect'
        }
在这个#10440中，，他说已修复，但是我发现并没有修复，可以看这个https://gallery.echartsjs.com/editor.html?c=xJRpq5QC2j&v=2
然后我去看源码，发现util/symbol.js中的createSymbol方法第一句话是
var isEmpty = symbolType.indexOf('empty') === 0;//当symbolType为function时，他是不存在indexOf方法的，所以会报控制台的错误
在util/symbol.js的309行增加：
var isFunction = typeof symbolType === 'function'  //判断是否为函数
    if (isFunction) {
        symbolType = symbolType()
    }
在makrt/MarkPointView.js118行中增加：
// 当symbol是函数的时候给他传递数据
var symbol = itemModel.getShallow('symbol');
 if (typeof symbol === 'function') {
      symbol = symbol(mpModel.getRawValue(idx), mpModel.getDataParams(idx));
   }",8,21
10487,2019-05-16T12:16:34Z,2019-05-22T09:06:42Z,2019-05-22T09:06:42Z,2,188,0,"Label color can support function, user can set different color to different label base on index.
Close #9160",3,4
10489,2019-05-17T08:50:39Z,2019-11-18T07:39:05Z,2019-11-18T07:39:05Z,1,1,1,修复天津市地图缺少蓟州区的问题,6,20
10490,2019-05-17T10:06:20Z,2019-05-17T13:58:07Z,2019-05-17T13:58:07Z,2,86,1,,2,1
10503,2019-05-20T10:05:59Z,2019-05-22T08:24:38Z,2019-05-22T08:24:38Z,1,4,6,"Close #10502
Stack wasn't consider in markline",3,0
10508,2019-05-21T03:58:39Z,,2020-11-12T10:11:18Z,1,8,0,"This PR relates to #8777
TODO:

overlap
rotate legend as one part",3,1
10553,2019-05-27T09:28:46Z,2019-05-28T09:01:34Z,2019-05-28T09:01:34Z,1,1,1,"When data id in graph series is in number typed zero 0, it will use dataIndex instead of id, which may not be expected by the user since it's expected to use id rather than dataIndex, like in the case of #10485.
Also, I found that there is no id entry in the document in the graph series section. Should I add it?",2,0
10580,2019-05-29T16:23:41Z,2019-05-30T06:33:05Z,2019-05-30T06:33:05Z,4,60,31,Fix commit 244d0b9 . See #10481 .,2,0
10581,2019-05-29T16:30:40Z,2019-05-30T06:33:26Z,2019-05-30T06:33:26Z,2,0,188,See the comments on the PR. We should think this thro…,2,0
10585,2019-05-30T06:28:37Z,2019-05-30T09:46:37Z,2019-05-30T09:46:37Z,2,4,0,"Fix #10569
With padding: [10, 20, 30, 40] in this example,
Before fix: (wrong)

After fix: (correct)",2,0
10586,2019-05-30T07:08:17Z,2019-06-11T12:21:56Z,2019-06-11T12:21:56Z,1,1,1,"elOption.pointer is undefined and accessing elOption.pointer.style causes problem.
fix #10570",2,0
10602,2019-06-03T02:14:39Z,,2019-06-11T01:17:39Z,1,1,1,Close #10595,2,1
10631,2019-06-06T04:11:45Z,2019-08-20T07:07:31Z,2019-08-20T07:07:31Z,1,1,1,make it shorter and sweet. tiny pr : ),2,4
10666,2019-06-13T03:15:58Z,2019-09-10T10:43:59Z,2019-09-10T10:43:59Z,1,5,1,"Fix this issue
#8489",3,9
10670,2019-06-14T02:31:45Z,,2019-11-20T06:03:01Z,1,7,0,Close #10653,3,3
10698,2019-06-18T16:16:23Z,2019-06-19T06:01:53Z,2019-06-19T06:01:53Z,137,8376,1387,,24,0
10706,2019-06-19T16:30:39Z,2019-06-20T04:25:12Z,2019-06-20T04:25:12Z,3,245,22,#10699,2,0
10716,2019-06-20T11:49:19Z,2019-06-27T06:21:08Z,2019-06-27T06:21:08Z,13,328,41,"Add the selector button in plain legend.
Add the selector button in scroll legend.
Update the legend example.",3,0
10743,2019-06-26T08:56:15Z,2019-06-28T19:14:41Z,2019-06-28T19:14:41Z,2,129,8,Fix group children positioning bottom or right.,2,0
10766,2019-06-27T13:58:58Z,,2019-12-02T02:25:12Z,1,7,2,,4,2
10827,2019-07-09T09:01:11Z,2019-07-09T11:29:16Z,2019-07-09T11:29:16Z,1,1,1,,4,1
10845,2019-07-11T10:24:38Z,2019-07-24T02:25:28Z,2019-07-24T02:25:28Z,2,17,0,Expanding echart to support version 3.0 (bmap) of Baidu Map API.,3,0
10855,2019-07-12T05:34:04Z,2019-07-15T03:57:54Z,2019-07-15T03:57:54Z,1,1,1,Close #10853,2,0
10952,2019-08-02T03:21:31Z,2019-08-02T07:37:50Z,2019-08-02T07:37:51Z,1,74,13,"Fix and close #10926 .
Calling functions like chart.resize() should be warned when chart.dispose() was called before.",2,0
11026,2019-08-15T08:49:25Z,2019-08-19T05:20:25Z,2019-08-19T05:20:25Z,4,125,69,"Fix the 'pin' hover style when textPosition is 'inside'.
The approach that customizing textPosition interpretation for 'pin' has been modified,
which needs to upgrade zrender.",3,0
11037,2019-08-17T05:12:13Z,,2021-10-01T21:04:26Z,3,16581,16219,"Feature Description
When you hover above a slider data zoom, you can simply zoom in/out using the mouse wheel.
Demo:",4,3
11040,2019-08-18T03:49:35Z,2019-08-19T08:52:11Z,2019-08-19T08:52:11Z,1,9,9,Update links to documentation,2,0
11064,2019-08-21T00:15:51Z,2019-08-21T02:04:09Z,2019-08-21T02:04:09Z,1,1,1,"Fix #11056 (Hover style bug brought by 952b196)
The updated code should be equivalent to the original code.",2,0
11111,2019-08-27T03:40:56Z,2019-08-27T05:29:55Z,2019-08-27T05:29:55Z,3,2,5,remove the supernumerary configuration,2,0
11136,2019-08-30T03:29:15Z,2019-08-30T08:28:33Z,2019-08-30T08:28:33Z,1,3,2,High priority issues should not be marked as stale.,2,0
11143,2019-08-30T10:28:45Z,2019-08-30T12:50:54Z,2019-08-30T12:50:54Z,1,3,1,,2,0
11146,2019-08-31T00:01:38Z,2019-09-02T02:25:06Z,2019-09-02T02:25:06Z,1,1,1,,2,0
11154,2019-09-02T15:50:15Z,2019-09-03T08:51:28Z,2019-09-03T08:51:28Z,15,1951,740,"Problem to Solve
Currently our testing is heavily depends on the nearly 400 test files in test folder. They are all HTML test files and we need to run them one by one manually when doing regression test, which is very inefficient.
So this pull request is about to solve this problem by providing a tool to run all tests automatically and compared the screenshots to the latest stable version to check if anything bad happens.
NOTE: It IS NOT designed for unit testing. It's only for visual regression testing.
Current Progress
A simple screenshot.

It includes:

A CLI to run target tests with puppeteer and record all screenshots, logs, errors. It will compare the screenshots between the current developing version and the latest stable version.
A dashboard can control the running of tests and generate reports.
A server connects dashboard and CLI. It will receive the commands from dashboard and invoke CLI to run given tests. The result from CLI will be sent back to the dashboard.

How to Use

Install necessary dependencies

npm install
npm install puppeteer

Start the server

npm run test:visual

Open the dashboard in the browser http://localhost:8866/test/runTest/client/index.html

TODO & Further Discussion
There are still many things needs to be done.


The most important part is interaction testing. Currently it only compares the final screenshot. But many tests are created for interaction testing, which means we need to simulate the user behavior in the puppeteer. There are two solutions about this:

Write codes to control interaction manually, like click, drag, dispatchAction, etc. It's more precise because we know when to generate a screenshot.
Write a recorder to record the user interaction. Playback when running tests. We don't need to write code, but perhaps we can't control when to screenshot so precisely.



Both of them needs a lot of work for 400 tests.


Secondly, I can't find a good way to mock time. It makes testing animations hard because builtin timer are not so accurate. There is always 1-2ms difference between two run, or even worse. The lucky thing is I found a library can do this thing https://github.com/sinonjs/lolex/ . But I was not lucky enough because it will cause some tests hang, and the animation tests are still wrong.


Currently it only tests canvas renderer, we can add svg renderer testing on all the tests files.


If you have any questions or suggestions. Please leave your comments. Thanks.",3,2
11156,2019-09-03T06:34:14Z,2019-09-03T12:27:42Z,2019-09-03T12:27:42Z,1,4,4,fix #11054,3,1
11177,2019-09-05T17:21:38Z,2019-09-06T09:45:39Z,2019-09-06T09:45:39Z,1,1,1,,2,0
11181,2019-09-06T09:34:53Z,2019-09-06T11:08:29Z,2019-09-06T11:08:29Z,3,227,25,"fix #11029
Using a new option series-pie.animationTypeUpdate to support expansion animation for data update, whose value can be 'transition' (default), or 'expansion'.
If it's set to be 'transition', then the animation will be transforming from the previous data to the updated data, as it behaves with ECharts now.
If it's set to be 'expansion', then the animation works like when a pie is created for the first time, which may be useful when the data is fully changed.",2,3
11184,2019-09-07T18:32:39Z,2019-09-08T07:32:57Z,2019-09-08T07:32:58Z,46,690,492,,2,0
11186,2019-09-08T06:52:48Z,2019-10-18T06:45:53Z,2019-10-18T06:45:53Z,2,78,8,different display in version 3.6 and 4 with xAxis.axisTick.interval,3,4
11192,2019-09-09T09:23:40Z,2019-09-09T10:53:18Z,2019-09-09T10:53:18Z,8,31,11,fix issue #10291 and so on.,2,0
11198,2019-09-09T14:16:46Z,2019-09-09T16:02:31Z,2019-09-09T16:02:31Z,2,138,12,"fix(custom series): the hover style should be always set but should not cache in hover state, otherwise the previous cache will be not reset and the previous hover style will remain; fix #11103.",2,0
11201,2019-09-09T17:37:39Z,2019-09-10T14:40:32Z,2019-09-10T14:40:32Z,165,2409,462,"This is a pull request about enhancing the visual regression test in #11154
Added features
Recording UI interactions and replay when running tests
Interactions include:

Mouse down/move/up
Select
Manual screenshot

Interaction still needs to be done:

Mouse wheel
Mouse wheel is used frequently in the zoom operation. But I can't find a good way in puppeteer to simulate mouse wheel.
Text input
Text input is rarely uses in echarts tests.

And I created a page to record the interactions.

I will write more about how to use this tool in the wiki. Currently I have done all the recording on the tests related to user interaction.
Multithread
Now it can be up 4x times faster when having 8 threads running all the tests rather than 1.
Mock date.
Date now are mocked to speed up the animation. The speed can be controlled in non headless mode to check the playback of interaction.
UI improvement
Still some TODOs

Still there some tests related to the timer are not running consistently. Like tests with data streaming, effectScatter, setInteraval update, etc.
Screenshots in puppeteer may cause tooltip disappear. Can't find the reason yet.
Record mouse wheel events.",3,2
11212,2019-09-10T15:34:46Z,,2021-10-01T21:04:33Z,1,1,1,"The toolbox has been updated when using the dataZoom in dynamic added toolbox, but the dataZoom hasn't been updated.",3,2
11213,2019-09-10T15:42:55Z,2019-09-12T02:12:53Z,2019-09-12T02:12:53Z,7,1442,4,,3,1
11215,2019-09-10T16:46:05Z,2019-09-16T04:14:13Z,2019-09-16T04:14:13Z,1,2,2,"The structure of the largePoints is [sign, x, yhigh, ylow, sign, x, yhigh, ylow, ...]. So the length of largePoints is 4000 when the count of the data in dataset: {source: data} is 1000. However, I found the length of largePoints is 5000 and the values are zero from 4500 to 4999.",2,1
11230,2019-09-12T13:55:38Z,2019-09-12T20:41:06Z,2019-09-12T20:41:06Z,4,890,57,,2,0
11237,2019-09-16T06:38:13Z,2019-09-16T07:39:18Z,2019-09-16T07:39:18Z,2,2,2,,2,0
11239,2019-09-16T07:31:54Z,2019-09-16T08:32:30Z,2019-09-16T08:32:30Z,1,1,1,This is a pull request about moving CONTRIBUTING.md to the root to make it easier to be found.,3,0
11252,2019-09-16T17:26:32Z,2019-09-17T05:37:43Z,2019-09-17T05:37:43Z,62,39612,34824,,4,0
11264,2019-09-17T17:25:49Z,2019-09-18T08:08:50Z,2019-09-18T08:08:50Z,4,298,3,,2,0
11271,2019-09-18T08:14:56Z,2019-09-18T11:10:00Z,2019-09-18T11:10:00Z,19,64,60,,2,0
11272,2019-09-18T09:27:44Z,2019-09-20T08:44:22Z,2019-09-20T08:44:22Z,4,84,82,"The map transform has been changed from geo coordinate into screen position.
It solves the SVG shadow bug with #11055.
It computes the transform so that the path with map data is in screen coordinate rather than geo coordinate in the rendering stage.
Before: the path positions are in the geo coordinate.
After: the path positions are in the screen coordinate.",2,2
11276,2019-09-18T14:07:17Z,2019-10-30T17:19:14Z,2019-10-30T17:19:14Z,7,111,41,"This pull request is about adding a friction parameter in the force layout, which is designed to fix issue like #11024 .",4,2
11283,2019-09-19T09:37:17Z,2019-09-20T02:13:46Z,2019-09-20T02:13:46Z,24,1474,212,"This is a pull request about adding clip option for line, bar, lines, scatter and custom series.
More details can be found in the issue #11240
Test Case
https://github.com/apache/incubator-echarts/blob/feature/clip/test/clip.html
Test result compared to 4.2.1
The result is generated with Visual Regression Testing Tool.
You can run it by the following command:
npm run test:visual",2,0
11285,2019-09-19T10:01:55Z,2019-10-15T17:27:37Z,2019-10-15T17:27:37Z,2,12,1,"myChart.on('brushEnd', function(params){
      console.log('brushEnd');
});

增加brushEnd事件，在选中结束后调用",5,4
11290,2019-09-20T07:33:58Z,2019-09-20T08:33:58Z,2019-09-20T08:33:58Z,3,55,4,,3,0
11291,2019-09-20T09:22:54Z,2019-09-20T10:42:03Z,2019-09-20T10:42:03Z,13,23,15,"This pull request is about adding recorded zoom actions in related test cases. The tested components include:

dataZoom with 'inside' type
map
geo
treemap",2,0
11297,2019-09-21T14:44:48Z,2019-09-23T02:15:54Z,2019-09-23T02:15:54Z,1,1,1,"contributing doc was moved to root dir. since doc fix branch in apache repo also fall behind master branch ,so merge to apache/incubator-echarts master",2,1
11299,2019-09-22T19:34:23Z,2019-09-23T02:22:32Z,2019-09-23T02:22:32Z,4,88,2,"feat: provide echarts.graphic.registerShape and echarts.graphic.getShapeClass custom shape in custom series and graphic component.
Notice
I use path, compoundPath, group, image, text as reserved name.
Is it OK?
Possible to add graphic elements like compoundPath or compoundXXX in future?",2,0
11302,2019-09-23T10:47:54Z,2019-09-23T17:40:28Z,2019-09-23T17:40:28Z,7,654,13,"Add the itemStyle to legend symbol.

The default borderWidth of legend symbol is 0, so the borderColor only can be seen when the legend.itemStyle.borderWidth isn't 0.
legend.itemStyle.borderWidth !== 0

the borderWidth of legend symbol only depends on  legend.itemStyle.borderWidth
the boderColor of legend symbol depends on legend.itemStyle.borderColor and series[i].itemStyle.borderColor, and the legend.itemStyle.borderColor has higher priority.
The borderColor of emptyCircle legend symbol is the same as color of series
The legend borderColor is incompatible with barBorderColor


The former PR",3,0
11303,2019-09-23T14:24:36Z,2019-09-23T15:25:38Z,2019-09-23T15:25:38Z,6,132,30,"Suppose a ""main process"" start at the point that model prepared (that is,
model initialized or merged or method called in action).
We should keep the main process idempotent, that is, given a set of values
on option, we get the same result.
But sometimes, values on option will be updated for providing users
a ""final calculated value"" (dataZoomProcessor will do that). Those value
should not be the base/input of the main process.
So in that case we should save and keep the input of the main process
separately, called settledOption.
For example, consider the case:
(Step_1) brush zoom the grid by toolbox.dataZoom,
where the original input option.startValue, option.endValue are earsed by
calculated value.
(Step)2) click the legend to hide and show a series,
where the new range is calculated by the earsed startValue and endValue,
which brings incorrect result.",2,0
11304,2019-09-23T17:46:01Z,2019-09-24T04:00:28Z,2019-09-24T04:00:28Z,260,10281,659,,10,0
11319,2019-09-25T03:23:45Z,2019-09-25T06:47:51Z,2019-09-25T06:47:51Z,5,191,416,,2,1
11324,2019-09-25T17:37:24Z,2019-10-08T21:19:15Z,2019-10-08T21:19:16Z,3,9,4,fixes #11298,3,8
11335,2019-09-26T10:38:19Z,2019-09-26T12:53:25Z,2019-09-26T12:53:25Z,1,4,3,"fix(graphic): pie highlight not triggering since 5661c6e
I tested both Canvas and SVG version with aria-pie.html, where the bug is reported in the first place, and lines-stream-not-large.html with pull request #11156, in which the bug was introduced.",2,0
11346,2019-09-27T13:41:57Z,2019-09-27T15:43:10Z,2019-09-27T15:43:10Z,8,65,10,Add legend lang in multiple languages.,2,0
11367,2019-10-04T13:31:19Z,2019-11-29T05:01:55Z,2019-11-29T05:01:55Z,3,204,1,"related issue #11236
new design integrate stack/tile button into one toggle button in toolbox, function spec as follows:

When stacked state is activated,  status of stack icon would be emphasis, otherwise 'normal'.
When stacked state is activated, title of stack icon would be 'Tile', otherwise 'Stack'.
When there's no data/series for this chart, stack feature would not switch between two states.",3,5
11373,2019-10-08T07:34:07Z,2019-10-21T05:16:09Z,2019-10-21T05:16:09Z,4,161,5,"There was a bug when calling setOption with changing dataset.source #10945.
After fixing, the data can be updated and if there are multiple data, the pointers would be multiple, and the label would be about the first data.
In the visual test gauge-simple.html, the previous bug can be reproduced with v4.3.0 (left), and the result after fixing is shown in the center.",4,0
11393,2019-10-14T09:52:40Z,2019-10-18T07:35:08Z,2019-10-18T07:35:09Z,10,476,25,"Fix #4856 .

Set roundCap to be true (default false) for polar bars will have this effect.
var option = {
    angleAxis: {
        max: 5
    },
    radiusAxis: {
        type: 'category',
        data: ['a', 'b', 'c'],
        z: 10
    },
    polar: {
    },
    series: [{
        type: 'bar',
        data: [1, 2, 3],
        coordinateSystem: 'polar',
        name: 'A',
        roundCap: true,
        color: 'rgba(200, 0, 0, 0.5)',
        itemStyle: {
            borderColor: 'red',
            borderWidth: 1
        }
    }],
    legend: {
        show: true,
        data: ['A']
    },
    tooltip: {
        show: true
    }
};
It may also help to provide an array as polar.radius to make rings more easily. Currently, this can be done with empty data in the inner side:

This will be improved in future PRs. I'll see if I can make it in this milestone. Please ignore this feature for now.
TODO:

 feat: support polar.radius
 feat: support bar background",6,4
11400,2019-10-14T18:12:38Z,2019-10-15T06:58:13Z,2019-10-15T06:58:13Z,1,1,1,,2,0
11412,2019-10-15T18:19:22Z,2019-10-16T04:55:59Z,2019-10-16T04:55:59Z,1,1,1,Small typo fix.,2,1
11445,2019-10-21T10:03:29Z,2019-10-23T02:19:44Z,2019-10-23T02:19:44Z,5,139,5,#11422,3,4
11448,2019-10-21T17:48:53Z,2019-10-22T05:10:49Z,2019-10-22T05:10:49Z,2,62,45,,3,1
11453,2019-10-22T03:09:30Z,2019-10-22T05:09:39Z,2019-10-22T05:09:39Z,5,95,122,src/util/graphic.js and src/util/symbol.js were importing each other.,2,0
11467,2019-10-23T06:13:49Z,2019-10-23T08:05:55Z,2019-10-23T08:05:55Z,1,3,3,,2,1
11469,2019-10-23T08:46:36Z,2019-10-23T10:13:49Z,2019-10-23T10:13:49Z,1,1,1,,2,0
11472,2019-10-23T17:09:42Z,2019-10-24T07:31:13Z,2019-10-24T07:31:13Z,2,84,2,"before:

after:",3,0
11479,2019-10-24T07:35:02Z,2019-10-28T12:16:20Z,2019-10-28T12:16:20Z,4,171,36,"fix(time): bar bandWidth with time axis #11145
before fixing (see bar2.html):

after fixing:

Bandwidth is calculated using the min gap between two adjacent time values of all series.
There's a bug with data filtering as reported in #11478, which is not raised in this pull request and can be reproduced with v4.4.0.",3,1
11481,2019-10-24T08:32:38Z,2019-10-24T09:46:10Z,2019-10-24T09:46:10Z,3,21,19,"update the description of the paper in the readme.
fix #11116 to ensure the raw data Index out of range return -1.",2,0
11485,2019-10-24T12:40:04Z,2019-11-06T03:12:22Z,2019-11-06T03:12:22Z,2,94,0,Close #10910,4,3
11486,2019-10-24T17:50:08Z,2019-10-25T06:04:16Z,2019-10-25T06:04:16Z,1,15,1,,2,0
11504,2019-10-29T03:02:31Z,2019-10-30T06:34:14Z,2019-10-30T06:34:14Z,3,386,192,"Instanceof can not only judge the direct constructor of the instance object, but also judge all the constructors in the prototype chain. The componentModel of scroll legend and the componentModel of plain legend both are instance of ComponentModelClass, so a new componentModel will not be created. The dataZoom also has this problem.",2,0
11511,2019-10-29T08:54:20Z,2019-10-29T11:27:14Z,2019-10-29T11:27:14Z,1,22,18,fix: use axis dim and index as key #11479,2,0
11514,2019-10-29T15:07:54Z,2019-10-29T16:21:16Z,2019-10-29T16:21:16Z,2,188,2,"Hi, this pull request has two changes:


Added two test cases for splitArea color issue. From #10948 #11438


Fix rounding error when calculating ticks. Which will lead to extra ticks being added in the code https://github.com/apache/incubator-echarts/blob/master/src/coord/Axis.js#L337



This bug will lead to wrong splitArea color in a specific resolution in the case from #11438

(The first color should be green instead of red)",2,0
11515,2019-10-29T17:06:11Z,2019-10-30T05:25:31Z,2019-10-30T05:25:31Z,2,44,3,"The opacity of image symbol will be 0 when the legend is unselected. But the opacity is still 0 when the legend is selected. The reason is that the style of image symbol isn't reset, so the image symbol will appear when the opacity is reset to null. Take the emphasis style into consideration,  the shadowBlur, shadowOffsetX, shadowOffsetY and shadowColor also should be reset.",2,1
11516,2019-10-29T20:35:32Z,2019-10-31T07:31:58Z,2019-10-31T07:31:58Z,1,44,15,"enhance: enhance the behavior that when mouse move is out of echarts area:
the brushed area or dataZoom window will be released at that case, but not keep in dragging state.
fix #10675.
But there is still an issue could be thought over:
When we are dragging and the pointer is moving out of the echarts area, should we release the dragging state, or keep the dragging state util mouseup/touchend?
For touchend they are almost the same. But for mouseup they are a little different.
If we need to make more detailed process for ""mouse up out of echarts"", we need to
listen mousemove and mouseup of document, which brings some extra effort in coding.
Please try them in dataZoom-action.html or bar.html.",2,2
11542,2019-10-31T16:42:15Z,2019-11-01T06:05:44Z,2019-11-01T06:05:44Z,2,354,0,"The bug is fixed in: ecomfe/zrender#522
IOS13 safari probably has a compositing bug (z order of the canvas and the consequent
dom does not act as expected) when some of the parent dom has
-webkit-overflow-scrolling: touch; and the webpage is longer than one screen and
the canvas is not at the top part of the page.
Check https://bugs.webkit.org/show_bug.cgi?id=203681 for more details.",2,0
11547,2019-11-01T07:57:25Z,2019-11-20T02:41:25Z,2019-11-20T02:41:25Z,1,7,3,Item should be downplayed before unselecting.,4,0
11548,2019-11-02T15:19:21Z,2019-11-06T06:03:05Z,2019-11-06T06:03:05Z,2,66,0,"before:

after:",3,0
11552,2019-11-03T14:30:47Z,2019-11-04T02:59:38Z,2019-11-04T02:59:38Z,1,1,1,"fix #11549.
before:

after:",3,1
11557,2019-11-05T00:58:59Z,2019-11-21T02:13:49Z,2019-11-21T02:13:50Z,4,98,5,,3,1
11566,2019-11-05T16:22:32Z,2019-11-19T09:24:23Z,2019-11-19T09:24:24Z,34,4739,316,"I've created a fork of the ECharts master, and uploaded new theme JS files to the fork. I've also included the theme screenshots for users who may not go to the ECharts website to look at the themes.
I've created this pull request per this post: #11550
I hope I've completed the pull request correctly. If I need to do something else to contribute the custom theme files to ECharts please let me know. Thanks!",2,7
11572,2019-11-06T13:19:06Z,2019-11-08T12:56:18Z,2019-11-08T12:56:18Z,2,62,17,"Add an unfocusNodeAdjacency delay execution timer to delay execute the action.
Add focus state make sure to execute the right action.",2,1
11575,2019-11-06T21:19:40Z,2019-11-07T05:37:47Z,2019-11-07T05:37:47Z,4,83,48,,2,0
11581,2019-11-07T05:38:50Z,2019-11-07T07:03:56Z,2019-11-07T07:03:56Z,4,302,7,"(1) On value axis, the auto-calculated bar width might be near 0, which make the bar invisible.
So we add option barMinWidth (default 1 in category and default null in other coord sys).
(2) The fix #5316 (commit 2823ab5) seems not work any more currently.
check the cases in echarts/test/bar-width.html. This fix make it works.",2,0
11588,2019-11-07T10:27:18Z,2019-11-07T13:12:04Z,2019-11-07T13:12:04Z,2,76,7,fix: fix the tick does not align with splitArea and axisPointer. The bug is brought by the fix of c34274a#diff-55a4b65a0a0b6e78888cfaf9b42973f8L318.,2,0
11617,2019-11-10T15:42:12Z,,2020-01-05T09:44:28Z,2,132,9,"Add two new methods for get storage data(maybe this kind of methods has existed)
Close #11616",3,2
11622,2019-11-11T20:39:16Z,2019-11-12T06:29:08Z,2019-11-12T06:29:08Z,3,149,10,Use the palette color in line series when the itemStyle.color. is a callback. And enhance the test case for itemStyle.color and lineStyle.color for line series. Enhance #11485.,2,0
11632,2019-11-12T11:09:10Z,,2019-11-26T10:30:02Z,5,463,26,"feat(pie): support align to edge and labelLine mode #11381
Problem and solution
In this PR, I proposed two new layouts for pie labels, aka aligning labels to 'lableLine' or 'edge'.
The default pie label layout may seem to be a little unorganized and not so beautiful, especially on devices with smaller resolutions.
Before:

After (two new layouts proposed):


API changes
The following are new options in this PR:
label: {
    alignTo: 'none', // 'none', 'labelLine', 'edge'. Works only when position is 'outer'. 'none' is for the previous design.

    // Closest distance between label and chart edge.
    // Works only position is 'outer' and alignTo is 'labelLine' or 'edge'.
    edgeMargin: 20,

    // Distance between text and labelLine. Previously, it's hard-coded as 3 in `labelLaout.js`.
    padding: 3
},
labelLine: {
    // Max length of length2 for 'labelLine' and 'edge' aligning.
    maxLength2: 200,

    // Min length of length2 for 'labelLine' and 'edge' aligning.
    minLength2: 20
}
The priority of edgeMargin is the highest. It is used to restrict text and label lines cannot go outside. maxLength2 and minLength2 are used to restrict the length of length2 so that it looks well on devices with both small and large resolutions.
Result and test
test/pie-alignTo.html provides test cases with different minLength2 and maxLength2.
Limitations and todo

textAlign is calculated from whether it's on the left or right side and cannot be changed by the user. We probably should provide the option to make the text align to the outer sides or the inner sides.
We should consider more options for the label design like #11381.",3,5
11648,2019-11-14T16:54:17Z,2019-11-15T11:49:30Z,2019-11-15T11:49:31Z,6,1220,101,"fix:
(1) Fix that tooltip shows multiple values around both sides of the pointer. Fix #9829.
(2) Fix a probably typo (diff < maxDistance) introduced by 4ef66e1
(3) Remove the previous logic that resolved #2869. Because currently if there are multiple values on the same axis tick, both of them will be found and displayed in tooltip by default. The related historical commits:
60d341f  (fix #2869)
3426bd0  (support find multiple values on the same axis tick).",2,0
11653,2019-11-15T05:44:00Z,2019-11-18T03:02:59Z,2019-11-18T03:02:59Z,1,1,2,"The original logic will never get font configs from the textStyle option, and also the ecModel doesn't have other font configs except the textStyle option.",3,0
11656,2019-11-15T15:30:21Z,2019-11-17T07:46:47Z,2019-11-17T07:46:47Z,3,12,1,Fixes #11476,2,1
11661,2019-11-16T17:19:47Z,2019-11-18T05:23:41Z,2019-11-18T05:23:41Z,2,2,2,,2,0
11673,2019-11-18T19:10:19Z,2019-11-19T11:34:54Z,2019-11-19T11:34:54Z,31,3904,1496,,2,0
11684,2019-11-20T08:03:51Z,,2020-09-09T01:56:49Z,2,277,14,"Fix #7651
/**
* If both x and y axes are snapping and one and only one of them is
* of category type, then the category axis is used as primary
* snapping, otherwise the baseAxis is used as primary snapping.
* The snapped value of the other axis is calculated from it.
*
*  4 |                 *
*  3 |       *
*  2 |            *
*  1 |  *     +
*    ---------------------
*       a    b    c    d
*
* In the above example, the x axis is in category type, and y axis
*     value.
* The *'s are data items, + is the mouse position.
*
* If both x and y axes are using snapping, then:
* 1. x axis is used as primary snapping axis because it's the only
*     category axis.
* 2. The nearest x value to the mouse is 'b', so 'b' is used as
*     snapped x value.
* 3. The corresponding y value of 'b' is 3, so 3 is used as snapped y
*     value.
* 4. So the axisPointer should be at ('b', 3).
*
* If only x is snapping, then the axisPointer should be at ('b', 1).
* If only y is snapping, then the axisPointer should be at the
*     position of +.
*/",4,2
11686,2019-11-21T03:17:35Z,2019-11-21T05:58:42Z,2019-11-21T05:58:42Z,2,22,32,Abstract clear timer as a function to reduce duplicate code.,3,0
11689,2019-11-21T04:44:01Z,2019-11-27T02:28:05Z,2019-11-27T02:28:05Z,1,4,4,"Close #11443
Before:

After:",2,0
11692,2019-11-21T08:37:08Z,2019-11-25T11:46:46Z,2019-11-25T11:46:46Z,1,9,3,,2,0
11695,2019-11-21T10:30:43Z,2019-11-27T02:29:24Z,2019-11-27T02:29:25Z,43,3852,3140,"Themes are contributed in #11566
Run thumb generation.
npm i -g puppeteer
cd theme/tool
node thumb.js
This is the pack I just generated.
thumb.zip",2,0
11698,2019-11-21T19:42:26Z,2019-11-25T08:05:48Z,2019-11-25T08:05:48Z,5,239,10,"fix: fix #11547 and add test cases
fix hoverStyle.html visual test position",2,0
11705,2019-11-22T16:05:26Z,2019-11-28T09:53:58Z,2019-11-28T09:53:58Z,14,958,106,"This is a pull request about adding minorTicks, minorSplitLines to axes of carteisan2d and polar coordinate system. It not support category type axis.
Usage:
xAxis: {
    axisTick: {
        // inside will also affect minorTick.
        inside: true,
        length: 20,
        lineStyle: {
            width: 4
        }
    },
    minorTick: {
        show: true,
        length: 10,
        splitNumber: 10,
        lineStyle: {
            color: 'red',
            width: 2
        }
    },
    minorSplitLine: {
        show: true,
        lineStyle: {
            color: 'rgba(255, 0, 0, 0.5)'
        }
    }
}
The default option is in https://github.com/apache/incubator-echarts/compare/minor-ticks?expand=1#diff-af7ed0ab793833949acec7caafa8646eR180
Here is some shots.
With dataZoom.

All tests.",4,2
11710,2019-11-25T13:59:04Z,2019-12-02T04:34:56Z,2019-12-02T04:34:56Z,5,448,60,"feature: support toolbox.dataZoom brush component dataZoom.slider visualMap.continuous drag outside and release outside.
That enhances the user experience of dragging.
zrender should be updated to the PR:
ecomfe/zrender#536
Check test/drag-out.html.",4,1
11711,2019-11-25T17:05:57Z,2019-12-10T06:03:33Z,2019-12-10T06:03:34Z,40,6299,10005,"I made some changes to the unit tests：

Test framework changed to jest. Jest works seamlessly with projects using  Node.js and has an intelligent execution of tests and snapshots that can happen parallelly.
Cases run in node environment. In order to access the CI of GitHub, I changed the running environment of unit test to node.
Delete the UI case. Because these cases are more suitable for visual testing.
I commented out the wrong test case


util/number › quantity › large number: Expected: 1e+100 Received: 1.0000000000000002e+100
util/number › nice › extreme: Expected: 0 Received: 1
test/ut/spec/api/containPixel.test.js: The error message is 'Assertion failed: (angle_max >= angle_min), function _cairo_arc_in_direction, file cairo-arc.c, line 189.'
test/ut/spec/component/graphic/setOption.test.js: The error message is 'FATAL ERROR: v8::ToLocalChecked Empty MaybeLocal.', maybe I used the 'Canvas' library
test/ut/spec/model/Component.test.js: Because node cache modules required, the results are affected by other cases",3,0
11713,2019-11-26T07:13:45Z,2019-11-27T09:29:22Z,2019-11-27T09:29:23Z,4,72,5,"Fix #7356
The cause of this bug is in the line https://github.com/apache/incubator-echarts/blob/fix-bar-width-100/src/layout/barGrid.js#L292
The width will be constraint by the remainedWidth, which is the space can still be used for the remaining series. It is calcuated in https://github.com/apache/incubator-echarts/blob/fix-bar-width-100/src/layout/barGrid.js#L321 In the original buggy code, the barGap is not considered. So the calculated remaining width is much smaller than it should be when the barGap is set -100%.",2,0
11718,2019-11-26T15:08:39Z,2020-03-16T06:04:20Z,2020-03-16T06:04:20Z,1,1,1,close: hustcc/echarts-for-react#276,3,4
11729,2019-11-27T14:39:27Z,2019-12-02T04:59:55Z,2019-12-02T04:59:55Z,4,82,37,Fix #9942.,3,0
11737,2019-11-28T16:17:53Z,2019-12-01T13:34:22Z,2019-12-01T13:34:22Z,13,336,42,More technique discussion can be seen in #10766 (review),2,0
11746,2019-11-29T11:01:12Z,2019-12-01T14:07:00Z,2019-12-01T14:07:01Z,16,1191,202,"(1) Enhance dataset default encode guess strategy. Fix #11428, Fix #11419, Fix #11735
(2) Support candlestick in dataset encode guess.
(3) Some refactor of the code arrangement of dataset encode guess and dimension calculation.
Break change of:
<test/dataset-charts.html>

The test case:
<test/dataset-guess.html>

Strategy:
line, bar, pictorialBar, scatter, effectScatter, candlestick, boxplot
[The strategy of the arrengment of data dimensions for dataset]:

""value way"": if all axes are non-category axes. So series one by one take
several (the number is coordSysDims.length) dimensions from dataset.
The result of data arrengment of data dimensions like:
| ser0_x | ser0_y | ser1_x | ser1_y | ser2_x | ser2_y |
""category way"": if at least one axis is category axis. So the the first data
dimension is always mapped to the first category axis and shared by
all of the series. The other data dimensions are taken by series like
""value way"" does.
The result of data arrengment of data dimensions like:
| ser_shared_x | ser0_y | ser1_y | ser2_y |

pie, funnel, map
Find the first pure number dim as the value dim,
and then find a name dim with the priority:
""number-like|other string dim"" > ""other dim"" > ""the value dim itself"".
If the previous strategy is not satisfied (that is, no pure number),
find the first number-like dim as the value dim,
and then find a name dim with the priority:
""other dim"" > ""the value dim itself"".
That is for backward compat: number-like (e.g., '3', '55') can be
treated as number.",2,0
11752,2019-12-01T14:57:36Z,2019-12-02T05:59:28Z,2019-12-02T05:59:28Z,2,15,1,Fix #11459.,3,0
11759,2019-12-02T06:26:40Z,2019-12-02T07:37:09Z,2019-12-02T07:37:09Z,1,1,1,Right one is not correct,2,0
11793,2019-12-05T07:34:25Z,2019-12-10T05:48:46Z,2019-12-10T05:48:46Z,1,3,1,Update comment of #11715.,2,0
11808,2019-12-06T14:49:49Z,2019-12-20T04:53:57Z,2019-12-20T04:53:57Z,6,646,215,"add edgeLayout in the TreeSeries.js.
draw the polyline edge in the TreeView.js.

Fix #7090.",4,0
11827,2019-12-10T21:14:18Z,2019-12-11T10:55:27Z,2019-12-11T10:55:27Z,3,148,90,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

The original merged PR is #11710
But I make some changes now.
Check the new PR ecomfe/zrender#547 for all details.",2,0
11833,2019-12-11T07:54:16Z,,2020-02-27T06:43:55Z,5,684,10,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature

What does this PR do?

Add a Feature about series ""map"" :
Customrize geojson properties name tag, default is ""name"". Now, you can use ""NAME"", ""nName"" and so on.
Fixed issues
bug 11799
Details
Before: What was the problem?

In original version, geojson properties must have a tag: ""name"". Now you can customrize it.

After: How is it fixed in this PR?


Add a configuration.
Usage
It is used widely. Geojson standard doesn't clear and definite the tag ""name"".
Are there any API changes?

 The API has been changed.


{
                            name: 'USA PopEstimates',
                            type: 'map',
                            roam: true,
                            map: 'USA',
                            nameTag: 'NAME', // this is new option, default is 'name'
                            itemStyle: {
                                emphasis: {label: {show: true}}
                            }
}

Related test cases or examples to use the new APIs
https://github.com/yafengstark/incubator-echarts/blob/fix-11799/test/visualMap-fix-11799.html
Sorry, the test case is named as ""map-fix-11799.html"".
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,2
11841,2019-12-12T02:23:16Z,2020-01-15T13:50:10Z,2020-01-15T13:50:10Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix Radar chart axis range problem
Fixed issues
Close #11832
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,1
11843,2019-12-12T08:37:34Z,2019-12-19T07:40:27Z,2019-12-19T07:40:27Z,3,147,62,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Provides new layouts for markLine labels.
Fixed issues

#11569: Markline position inside grid area

Details
Before: What was the problem?

The previous layout design may often cause the markLine labels to collapse.
After: How is it fixed in this PR?

Provide multiple new layout designs so that labels may not collapse.

Usage
Are there any API changes?

 The API has been changed.

Valid values of  has been changed from 'start', 'middle', 'end' to 'start', 'middle', 'end', 'insideStartTop', 'insideStartBottom', 'insideMiddleTop', 'insideMiddleBottom', 'insideEndTop', 'insideEndBottom'.
Related test cases or examples to use the new APIs

test/markLine.html

Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,0
11847,2019-12-13T10:23:17Z,,2020-11-12T10:11:24Z,1,24,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
In some case user just set visualMap.piece.gt or visualMap.piece.lte will cause an error
Fixed issues
Close #5801
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",5,1
11849,2019-12-14T04:45:51Z,2020-08-04T06:41:09Z,2020-08-04T06:41:09Z,2,34,5,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

When dataset is used, data view shows NaN.
Fixed issues
Close #7533
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,1
11854,2019-12-15T13:54:56Z,,2020-04-21T18:28:28Z,1,2,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Pass missing series model to setLabelStyle to retrieve label
Close #11772
Before: What was the problem?
emphasis.label.formatter is not working
After: How is it fixed in this PR?
emphasis.label.formatter is working
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",5,2
11887,2019-12-20T07:53:19Z,2019-12-23T05:28:27Z,2019-12-23T05:28:27Z,1,16,160,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others: document

What does this PR do?

The contributing doc has too much content and was hard to read. I put some of the contents in the wiki and update the contributing doc.",2,0
11890,2019-12-21T09:27:38Z,2020-01-06T09:11:37Z,2020-01-06T09:11:37Z,1,106,4,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

add singleAxis.splitArea support.
Fixed issues

#11690
Details
Before: What was the problem?
by doc, singleAxis should support splitArea option, actually not.
After: How is it fixed in this PR?
add _splitArea implement for SingleAxisView, imitate CartesianAxisView.",3,0
11891,2019-12-22T05:34:31Z,2019-12-22T15:58:07Z,2019-12-22T15:58:07Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix title backgroundColor is not working without borderWidth
Fixed issues
Close #11874
Details

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,1
11892,2019-12-22T09:21:56Z,,2020-01-16T15:50:53Z,2,260,15,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
To support pie chart series.data to reduce Array .
Fixed issues

Details
Before: What was the problem?
Pie chart series.data can not support to process Array .

After: How is it fixed in this PR?
When pie chart init , process the series data to support Array data.

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,1
11893,2019-12-22T10:18:39Z,2020-01-06T05:19:05Z,2020-01-06T05:19:05Z,2,26,3,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Apply continuity line trail for effectline, currently enable for 'line', 'rect', 'roundRect' symbolType
Fixed issues
#11739
#9771
#8059

Details
Before: What was the problem?

Effect line breaks when zooming in or at low-end device, since symbol is rendered at discrete position


After: How is it fixed in this PR?

Applying scaled symbol to fill the gap between last position and current one


Usage
Are there any API changes?

 The API has been changed.


only enable continuity trail for 'line', 'rect', 'roundRect' symbolType
Related test cases or examples to use the new APIs
test/geo-lines.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,2
11897,2019-12-24T07:16:22Z,2019-12-27T04:21:58Z,2019-12-27T04:21:58Z,1,1,1,,2,0
11934,2019-12-28T07:49:02Z,2019-12-30T02:25:29Z,2019-12-30T02:25:29Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fixed issue 11658
Fixed issues

Details
开始时候我们有5个州： 幽州, 荆州, 兖州, 益州, 西凉
幽州 是 idx = 0, isSelected = true;
当点击 legend， hide 幽州之后，idx = 0 的就变成了荆州，piePieceProto.updateData will be called 4 times, not 5. 所以 idx 会指错。需要用 getName 来定位 item。
TODO： 未来可以考虑更好的封装，而不是用 index 或者 name 来让 parent 进行操作。不过可能重构工程量较大😆",2,2
11941,2019-12-29T11:41:35Z,2019-12-30T02:08:34Z,2019-12-30T02:08:34Z,1,1,28,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Provide jizhou district for Tianjin in js format.
Fixed issues
#10489
Details
Before: What was the problem?



After: How is it fixed in this PR?



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
11942,2019-12-29T14:35:05Z,,2019-12-30T02:18:11Z,1,15,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Clear all existing events when clear() was called
Fixed issues
Close #11938
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,2
11943,2019-12-29T15:08:56Z,2019-12-30T02:16:15Z,2019-12-30T02:16:16Z,3,4,5,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix failed lint tests
Fixed issues

Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,1
11945,2019-12-30T03:53:23Z,2020-01-03T03:14:05Z,2020-01-03T03:14:05Z,2,2,2,"补充重庆市开州区的properties对象的cp属性及其值[108.388696,31.162529]

Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

增加重庆市开州区的坐标点
Fixed issues

Details
Before: What was the problem?

缺少重庆市开州区的坐标点

After: How is it fixed in this PR?

增加重庆市开州区properties对象中pc属性，及其值[108.388696,31.162529]

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,3
11951,2019-12-30T10:24:15Z,2020-01-13T07:14:22Z,2020-01-13T07:14:22Z,6,668,23,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Provide background for bar series under both cartesian and polar coordinates.

Fixed issues

#11405: Bar series support background option

Details
Before: What was the problem?
No background.
After: How is it fixed in this PR?
Providing background options.
Usage
Are there any API changes?

 The API has been changed.

Added series[bar].backgroundStyle option in the form of:
backgroundStyle: {
    color: 'transparent',
    borderColor: null,
    borderWidth: '0',
    borderType: 'solid',
    borderRadius: 0,
    shadowBlur: 0,
    shadowColor: '',
    shadowOffsetX: 0,
    shadowOffsetY: 0,
    opacity: 1
}
Related test cases or examples to use the new APIs

test/bar-large.html
test/bar-polar-basic-radial.html
test/bar-polar-basic.html
test/bar-polar-multi-series-radial.html
test/bar-polar-multi-series.html
test/bar.html
test/bar3.html

Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,0
11952,2019-12-30T14:50:08Z,2019-12-31T02:54:14Z,2019-12-31T02:54:14Z,3,5,2,"Brief Information
This pull request is in the type of:

bug fixing

What does this PR do?
To fix the bug #11610

Details
Before
Use the scroll legend and change to last page, the will pagination disappear when resizing the height of window.


After
I change the index of pagination to 0 when the pagination disappear.


Other information
I have two options：

Change the default value of the defaultIndex to 0
Change the index of pagination to 0 when the pagination disappear.",3,1
11956,2019-12-31T02:45:51Z,2019-12-31T06:02:11Z,2019-12-31T06:02:11Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
TypedArray#slice method is not exists on IE. Use Array.prototype.slice to clone the TypedArray instead.
Fixed issues
#11451",3,0
11959,2019-12-31T06:46:22Z,2020-01-07T06:02:39Z,2020-01-07T06:02:39Z,3,142,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
The code change is mainly in the PR ecomfe/zrender#555
This PR is about adding a case to test draggle on the group elements.

Related issue
#5569
Usage
{
  type: 'group',
  draggable: true,
  children: [...]
}",5,3
11963,2019-12-31T21:22:30Z,2020-01-01T07:20:41Z,2020-01-01T07:20:41Z,39,11226,4757,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fixed issues

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,0
11965,2020-01-02T06:11:08Z,2020-01-03T04:11:30Z,2020-01-03T04:11:30Z,1,9,6,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fixed issue where in the charts contain stacked data, the markpoint's position is not correct.

Fixed issues
#11535
#11616

Details
Before: What was the problem?

The max,min,avg marker in the stacked bar or line graph with stacked data is misplaced.



After: How is it fixed in this PR?

Changed markerTypeCalculatorWithExtent function in the markerHelper, let it always use the stacked data(if they have stack) to calculate marker's coordinate, and get the value from the original data.



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,0
11972,2020-01-03T04:26:30Z,2020-01-07T06:05:51Z,2020-01-07T06:05:51Z,1,2,2,Fix code style in #11965,2,0
11973,2020-01-03T06:26:34Z,,2022-01-14T21:04:35Z,2,4,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Modify default value of tooltip and label when using default configuration.

Fixed issues
fixed issues #11528

Details
Before: What was the problem?
In scatter chart, the label and tooltip use the value of 'y' when using default configuration.


After: How is it fixed in this PR?
Select the last value of data dimension as the label and tooltip by default


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,2
11977,2020-01-04T15:28:27Z,,2022-03-10T21:04:35Z,6,76,20,"Brief Information
This pull request is in the type of:

 bug fixing

What does this PR do?

Fixed issues
#11042
Details
Before: What was the problem?
can not set cross-shaped color when openVal equal to closeVal
After: How is it fixed in this PR?
add color1 default value is '#000' and '#FFF'(dark theme)
add borderColor1 default value is '#000' and '#FFF'(dark theme)
can set custom cross-shaped color like color0, borderColor0
Usage
Are there any API changes?

 The API has been changed.

series-candlestick.itemStyle.color1:
series-candlestick.itemStyle.borderColor1:
Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,3
11985,2020-01-06T11:36:10Z,2020-01-07T04:49:19Z,2020-01-07T04:49:19Z,4,36,5,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Add a function to get tooltip position by referring to map.
Fixed issues
Fixed issues #11801

Details
Before: What was the problem?
In radar chart, the coordSys.dataToPoint pass a parameter when the action 'showTip' dispatched, but the dataToPoint needs two parameters.


After: How is it fixed in this PR?
Add a function to get tooltip position by referring to map.


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,0
11987,2020-01-06T20:13:17Z,2020-01-07T05:56:45Z,2020-01-07T05:56:45Z,6,159,202,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fixed issues

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,0
11991,2020-01-07T11:35:59Z,2020-01-07T15:01:06Z,2020-01-07T15:01:06Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
fix subpixel optimize with no lineWidth in zrender.
The logic in ecomfe/zrender#557
Related original issues
#11874 #11891",2,0
11998,2020-01-08T18:38:48Z,2020-01-09T05:47:46Z,2020-01-09T05:47:47Z,5,84,6,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
fix: the cover of the brush component should be able to roam with the coordinate system when using updateTransform.
Fixed issues
Fix #11754.
Details
Before: What was the problem?
The cover of the brush component can not roam with the coordinate system.
After: How is it fixed in this PR?
Fix updateTransform of brush component.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
test/brush3.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,0
12001,2020-01-09T02:43:41Z,,2022-02-16T21:04:27Z,1,5,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new featur
 others

What does this PR do?

Fixed issues

#11175
Details
Before: What was the problem?

insideZoom will be freezed when dataZoom.start=dataZoom.end.

After: How is it fixed in this PR?


prevent range[1] - range[0] from zero value.
Usage
Are there any API changes?

 The API has been changed.",3,2
12003,2020-01-09T03:21:13Z,,2020-11-12T10:11:31Z,2,78,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Use targetDataDim to get value
Fixed issues
Close #11616
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,0
12011,2020-01-10T07:29:53Z,2020-04-21T19:38:30Z,2020-04-21T19:38:30Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Add a parameter to getData so sankey can have tooltip option
Fixed issues
Close #12006
Details
Before: What was the problem?
Links tooltip was controlled by nodes,
After: How is it fixed in this PR?
Links has own tooltip option
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,0
12016,2020-01-10T11:31:26Z,,2022-01-19T21:04:48Z,3,171,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Modified the logic of processing precision in markLine

Fixed issues
fixed issue #11517

Details
Before: What was the problem?
All types of markLine  process  the precision  by the user's value or the default value.


After: How is it fixed in this PR?
Configuration without precision: the precision of average is 2 and the precision of other type is the precision of value.
Precision of configuration is X: The precision of all type is the X


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
12021,2020-01-11T12:34:02Z,2020-01-11T13:35:09Z,2020-01-11T13:35:09Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix failed lint tests
Fixed issues

Details
Before: What was the problem?



After: How is it fixed in this PR?



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,0
12022,2020-01-11T13:36:27Z,2020-08-05T08:19:52Z,2020-08-05T08:19:52Z,2,175,27,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Keep the number of layer keys in each layer consistent.

Fixed issues
Fixed issue #11948

Details
Before: What was the problem?
Use largest layer array is not enough. Because each layer may have a different key, each layer array is inconsistent after call fixdata.



After: How is it fixed in this PR?
Save all the layer keys, and if any layer data lack one of keys, add default data(lack key: value) to layer .



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,1
12024,2020-01-12T22:01:53Z,2020-01-13T07:14:33Z,2020-01-13T07:14:33Z,4,72,43,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
support tooltip.appendToBody.
Based on the PR ecomfe/zrender#559 .
Fixed issues
Fix #8049.
Details
The changes from #8049:

Add tooltip.appendToBody and by default false rather than ""append to body"" by default, otherwise bring a break change.
Support the existing features when appended to body for example show tooltip by dispatchAction, and do not trigger globalout when entering it.
Support positioning tooltip on document.body with CSS settings like margin, padding and even CSS transform.

Usage
Are there any API changes?

 The API has been changed.

option = {
    tooltip: {
        appendToBody: true, // new option
        ...
    }
}
Related test cases or examples to use the new APIs
test/tooltip-appendToBody.html",3,0
12035,2020-01-13T14:14:23Z,2020-01-13T17:10:04Z,2020-01-13T17:10:04Z,3,398,7,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
fix geo can not be restored.
Fixed issues
fix #11670 .",3,2
12050,2020-01-14T18:28:05Z,2020-01-15T07:24:36Z,2020-01-15T07:24:37Z,4,108,29,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
fix: enable dispatchAction highlight downplay for treemap.
Fixed issues
fix #9816.
Details
Before: What was the problem?
Can not dispatchAction highlight downplay for treemap.
After: How is it fixed in this PR?
Enabled.
Related test cases or examples to use the new APIs
test/treemap-disk2.html
Others
Remain issue
Whether highlight/downplay will effect all the subtree or only the hovered node?
There are both scenarios, depending on the styles the treemap used. For example,
a treemap uses border to distinguish the highlighted subtree, we should only
highlight the target node rather than the entire subtree. Otherwise the all of the
border inner the subtree will be highlighted unexpectedly. If a treemap uses area
color to distinguish the highlighted subtree, the entire subtree needed to be
highlighted.
But I only support ""highlight single node"" here. Because based on the current
mechanism, implement ""highlight entire subtree"" need some more code, a little
like focusNodeAdjacency in graph series, and event more complicated because
the zrender elements in treemap are nested so we need to consider a mouse over
listener should/should not listen to its descendent.",3,2
12081,2020-01-18T13:29:40Z,,2020-04-20T21:01:08Z,2,78,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

fix bug issue 11677
deal with DST.（修复个别时区存在夏令时的问题）
Fixed issues

issue 11677
Details
see the commit.
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,1
12134,2020-02-06T13:52:09Z,2020-02-10T03:38:30Z,2020-02-10T03:38:30Z,1,4,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Code style
Fixed issues

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
12147,2020-02-14T12:46:24Z,2020-02-25T06:39:25Z,2020-02-25T06:39:25Z,1,5,9,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
When minOpen is true, index shouldn't increase to 1
Fixed issues
Close #12121
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,5
12155,2020-02-16T04:37:41Z,,2020-06-22T12:49:37Z,2,3,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Just hide the map not remove it
Fixed issues
Close #12154
Details
Before: What was the problem?
Once geo.show was set to false, map would never show again
After: How is it fixed in this PR?
Map will show again when it was hide
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,2
12168,2020-02-18T19:32:06Z,2020-02-19T12:28:30Z,2020-02-19T12:28:30Z,2,3,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fixes the toolbox title issue described in #12162
Fixed issues


#12162

Details
Before: What was the problem?


After toggling magicType icons, titles in other features in toolbox become [object Object]. This is becaues the event fired a new title change and it was overwriting all features.
After: How is it fixed in this PR?


The event also sends which feature to change the title.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,5
12172,2020-02-19T17:04:59Z,2020-04-20T20:39:05Z,2020-04-20T20:39:05Z,1,3,3,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fixes calendar chart layout when user is in a timezone with DST
Fixed issues

#12143
#10430
Details
Before: What was the problem?


When user is in a timezone with DST, the last several months of the year on the calendar chart begin to overlap eachother.

After: How is it fixed in this PR?


The fix is based on the solution from #10430

There is currently another PR attempting to fix this problem here: #12081 - however, from testing, it did not appear to correct the problem.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,9
12186,2020-02-24T19:34:00Z,2020-02-25T02:11:27Z,2020-02-25T02:11:27Z,1,3,1,"fix treemap throw brought by a9ee949…

Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others",2,2
12191,2020-02-25T13:32:29Z,2020-04-21T20:17:16Z,2020-04-21T20:17:16Z,1,1,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix link value is zero makes some nodes disappear.
Fixed issues
Close #12189
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,3
12194,2020-02-25T18:56:02Z,2020-02-26T03:13:49Z,2020-02-26T03:13:49Z,1,2,1,"89221c8 provide new line label position config,
enhanced the original hard code distance to option configurable.
This PR add default option to graph, to make the the default distance between line label and line the same as before.",2,2
12201,2020-02-27T03:31:28Z,2020-02-27T12:47:15Z,2020-02-27T12:47:15Z,3,10,3,,2,2
12215,2020-03-02T03:49:26Z,2020-03-16T05:58:48Z,2020-03-16T05:58:48Z,3,71,16,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Use auto calculation when axis min/max's value is null
Fixed issues
Close #11829
Details

Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
12228,2020-03-03T15:11:49Z,,2020-05-29T04:19:00Z,1,9,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
To support the bar chart in polar axis provide negative values, I hava found an example. In polar coordinate system, the option.radiusAxis.min not only negative values are not supported, but other values except 0 are also not supported, so this submission is to solve this problem.
Here is the example' s option:
option = {
    angleAxis: {
        type: 'category',
        data: ['S1', 'S2', 'S3']
    },
    radiusAxis: {
        min: 1,
        max: 6
    },
    polar: {
    },
    series: [{
        type: 'bar',
        data: [2, 2, 2],
        coordinateSystem: 'polar',
        itemStyle:{
            color:""blue""
            
        },
        name: 'A',
        stack: 'a'
    },
    {
        type: 'bar',
        data: [2, 2, 2],
        coordinateSystem: 'polar',
        name: 'B',
        stack: 'a'
    },
    {
        type: 'bar',
        data: [2, 2, 2],
        coordinateSystem: 'polar',
        name: 'C',
        stack: 'a'
    }],
    legend: {
        show: true,
        data: ['A', 'B', 'C']
    }
};

Fixed issues
To fix the issue 12109

Details
Before: What was the problem?

12109


After: How is it fixed in this PR?

fix the the issue 12109 and solve the radiusAxis.min do not support value except 0.


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,2
12236,2020-03-04T14:00:38Z,,2022-04-02T05:49:57Z,1,17,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fixes #9265 .  Axis.nameGap will be now be calculated upon grid.containLabel: true and axis labels.
Fixed issues

#9265 xAxis.nameGap and yAxis.nameGap should be set automatically given grid.containLabel

Details
Before: What was the problem?
For charts with grid.containLabel set to true, axis name could be overlapped with axis labels, if yAxis.nameGap is not manually tweaked.
Here is how echarts behaves by default (quoting: #9265 (comment)):

After: How is it fixed in this PR?
now axis' name will always placed outside grid + axis label rect. nameGap only adds some additional gap.

Usage
Are there any API changes?

 The API has been changed.

Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",7,6
12243,2020-03-06T08:45:02Z,2020-04-10T05:46:39Z,2020-04-10T05:46:39Z,4,66,14,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Hover style is not used if pie animation is set to be false.
Fixed issues

#12110: label not show when animation is disabled

Details
Before: What was the problem?
Test test/pie-animation.html. Label is not shown when hover on the pie.

After: How is it fixed in this PR?
labelLine.ignore = labelLine.hoverIgnore;
labelText.ignore = labelText.hoverIgnore;

labelLine.ignore and labelText.ignore should be changed into hoverIgnore, even if without animation.
Note that a user may set animation to be true while hoverAnimation to be false for a pie chart to have the transition animation at initiation. So checking both itemModel.get('hoverAnimation') && seriesModel.isAnimationEnabled() in 9847233#diff-19529e7aaddb5ad8b1b45417c96c8e00R184 does not update the animation states for transition animation.

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
test/pie-animation.html and a visual test about it.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
12264,2020-03-10T09:27:31Z,2020-03-16T05:49:46Z,2020-03-16T05:49:46Z,1,12,7,,2,0
12331,2020-03-25T14:35:08Z,2020-03-29T14:32:59Z,2020-03-29T14:32:59Z,2,45,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix barBorderRadius didn't work, not only background but also item
Fixed issues
Close #12321
Details

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
12340,2020-03-27T10:23:28Z,2020-03-30T02:14:09Z,2020-03-30T02:14:10Z,2,98,3,"This bug was introduced by 7cc5cb5b2e105fdf75033c5c6c8ef214L195

Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Add map animation when zoom and center change.
Fixed issues

#11947: Missing animation when changing zoom and center of geo component

Details
Before: What was the problem?
No animation.
After: How is it fixed in this PR?
Use updateProps to set animation.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
test/map.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
12342,2020-03-27T17:32:57Z,2020-03-30T02:08:45Z,2020-03-30T02:08:45Z,2,190,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix #11975
Fixed issues
#11975
Details
Before: What was the problem?
#11975 There is a 1px gap between rects in some cases, e.g. 19 lines in total and dom height is 260px.

After: How is it fixed in this PR?",2,3
12348,2020-03-30T07:31:28Z,2020-03-31T03:16:31Z,2020-03-31T03:16:31Z,3,118,4,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
For the issue #12347
Fixed issues

#12347",2,3
12354,2020-03-31T06:05:34Z,2020-03-31T11:27:30Z,2020-03-31T11:27:30Z,2,108,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix the bug #12353.
Fixed issues

#12353",2,2
12360,2020-03-31T17:56:41Z,,2020-08-05T03:36:14Z,3,218,25,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fixes #12359
Fixes #12667
Tweaks #11743


if stack status is not emphasis, currentType in magictypechanged event should be tiled(#12359)
improve stack icon toggle experience
emphasized stack icon by default if there are two or more than two series having the same stack value.
fix a bug that language of title switched to Chinese after clicking stack button.(fix #12667, tweak #11743)


Fixed issues

#12359
#12667

Related test cases
Test case: refer to test/toolbox-stackTiledToggle.html",3,4
12367,2020-04-02T03:09:37Z,2020-06-22T04:33:36Z,2020-06-22T04:33:36Z,3,101,3,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fixes #12279
Fixes #11860
Fixed issues

#12279
#11860

Details
Before: What was the problem?
The symbols of image type do not display at the first rendering. Please refer to #12279, #11860 for more details.

After: How is it fixed in this PR?

After creating the instance of SymbolClz, update its data immediately but not wait until the next update rendering if the type of symbol is image.
Related test cases
Refer to test/tree-image2.html for a test case.",3,3
12371,2020-04-02T10:36:19Z,2020-04-02T13:32:29Z,2020-04-02T13:32:30Z,3,119,37,"The original PR is:  #12215
cf5812f
Fix from that:
(1) The min/max function call should not be called twice (necessary and probably wrong input params).
(2) fixMin fixMax should cover function return.
(3) Add more test cases.",2,2
12373,2020-04-02T12:20:42Z,2020-04-02T13:32:48Z,2020-04-02T13:32:48Z,4,28,5,"The original PR is #12331
fbe73ae
This commit fixes: also update r when ""update"" rather than only in ""add"".
Add more test cases.",2,2
12380,2020-04-04T04:39:57Z,2020-04-07T14:14:26Z,2020-04-07T14:14:26Z,4,24,5,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
open new link by 'blank' has security risk
Check this artical
Fixed issues
Details
Before: What was the problem?
After: How is it fixed in this PR?
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,3
12387,2020-04-06T02:47:44Z,2020-04-07T14:13:07Z,2020-04-07T14:13:07Z,1,26,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Adds missing series.typeNames values to english translation
Fixed issues

#12386

Details
Before: What was the problem?

Translations for series.typeNames were missing.

After: How is it fixed in this PR?

Translations added

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,4
12392,2020-04-07T06:48:19Z,2020-05-25T04:09:00Z,2020-05-25T04:09:00Z,4,214,12,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix the option symbolRotate in markLine does not work for line series. Close #12388.
Fixed issues

#12388

Related test cases
Refer to test/markLine-symbolRotate.html",3,10
12393,2020-04-07T12:55:29Z,2020-04-10T06:13:17Z,2020-04-10T06:13:17Z,1,4,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix clip bug in chromium when chart size over 18000px.
Fixed issues

11369",2,2
12410,2020-04-10T03:40:00Z,2020-04-10T12:05:10Z,2020-04-10T12:05:10Z,4,172,0,Fix #12229,2,2
12411,2020-04-10T04:13:34Z,2020-04-10T12:04:59Z,2020-04-10T12:04:59Z,3,23,5,,2,2
12414,2020-04-10T10:49:51Z,2020-04-15T01:50:25Z,2020-04-15T01:50:25Z,2,90,45,"Brief Information

showLoading align center


Choose the center position of text and animation


Add configuration items


fontSize：font size of text，the default value is 12px
showSpinner：show animation or not，the default value is true
spinnerRadius：radius of circle in animation，the default value is 10
lineWidth：lineWidth of circle in animation， the default value is 5

This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Enhance the showLoading(#11790)

Fixed issues

Details
Before: What was the problem?
showLoading align center by the center of circle in animation


After: How is it fixed in this PR?
showLoading align center by the  center of  animation and text


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
12418,2020-04-12T13:51:06Z,2020-05-28T03:12:12Z,2020-05-28T03:12:12Z,3,247,4,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

correct bar polar rendering negative values
Fixed issues
#12109

Details
Before: What was the problem?



After: How is it fixed in this PR?



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,13
12463,2020-04-20T09:46:26Z,2020-04-21T03:10:42Z,2020-04-21T03:10:42Z,1,2,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix sunburst not being lifted with higher z2 when mouse hovers on.
Fixed issues
Originally reported from https://lists.apache.org/thread.html/r2cd2ec8c9241d87ab2ce2cd472596b4bc31df25d58e5b0a9b66db5ab%40%3Cdev.echarts.apache.org%3E .
Details
Before: What was the problem?



Border is not clear owing to the same z2 with other sectors.
After: How is it fixed in this PR?



Border is clear.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
12466,2020-04-20T21:02:52Z,2020-04-21T06:34:07Z,2020-04-21T06:34:08Z,2,186,6,fix: calendar timezone bug in DST. Fix #12172. Fix #12081. And add test cases.,2,2
12468,2020-04-21T02:57:48Z,,2020-08-04T12:17:22Z,3,111,4,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Gauge series shouldn't have itemStyle option at default
Fixed issues
Close #12376
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,2
12471,2020-04-21T18:24:04Z,2020-04-22T08:06:11Z,2020-04-22T08:06:11Z,7,58,49,"Enable treemap emphasis label formatter. Fix #11854. And add test cases.
[Details]:
The implementation of ""insert levelModel"" is migrate from ""Tree.getModel""
to ""beforeLink nodeData.wrapMethod('getItemModel', ...)"", because the former
one miss the case of data.getItemModel, which is needed in label formatter fetcher.


Fix the incorrect implementation of leavesModel in TreeSeries.
This defect is found when fix ""1"". ""1"" and ""2"" are sharing the same data structure (Tree, insert model) so we'd better fix them together.
[Details]:
leavesModel should be inserted between the node itemModel and the seriesModel in the ""parentModel"" chain.
It can be added either via [A] ""beforeLink - nodeData.wrapMethod('getItemModel, ...)""
or via [B] ""TreeNode.getModel "".
But TreeSeres both use the two strategy, which causes the leavesModel is inserted twice.",2,1
12472,2020-04-21T20:25:18Z,2020-04-22T08:06:44Z,2020-04-22T08:06:44Z,2,32,6,"tweak #12191 (when edge value sum is 0, edge and node disappear)",2,1
12484,2020-04-24T02:53:32Z,2020-06-22T09:23:46Z,2020-06-22T09:23:46Z,14,962,67,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Enables bar race for ECharts 5.0.
Fixed issues

Details
Before: What was the problem?
Bar race is a popular way to show time series data, and visualize the change in trends over time. See examples at flourish and amcharts.
This PR brings this feature to ECharts including:

realtime bar sorting and interchanging based on bar width
realtime label updating with interpolated values

It still have some bugs when axis has min or max to restrict on the bars to be filtered, which should be fixed in further PRs.


After: How is it fixed in this PR?



Usage
Are there any API changes?

 The API has been changed.

New options:

[xAxis|yAxis].realtimeSort
[xAxis|yAxis].sortSeriesIndex

Typical usage:
var option = {
    xAxis: {
    },
    yAxis: {
        type: 'category',
        data: ['A', 'B', 'C', 'D'],
        sort: true,
        realtimeSort: true,
        sortSeriesIndex: 0,
        inverse: true,
        axisLabel: {
            formatter: function (label, id) {
                return label + '-' + id;
            }
        },
        animationDuration: 300,
        animationDurationUpdate: 300,
        // max: 2
    },
    series: [{
        name: 'X',
        type: 'bar',
        data: [120, 200, 90, 240],
        label: {
            show: true,
            position: 'right',
            formatter: '{c}RMB',
            valueAnimation: true
        }
    }],
    legend: {
        show: true
    },
    animationDuration: 5000,
    animationDurationUpdate: 5000,
    animationEasing: 'linear',
    animationEasingUpdate: 'linear'
};
Related test cases or examples to use the new APIs

test/bar-race.html

Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,4
12494,2020-04-25T01:17:43Z,2020-04-26T06:19:51Z,2020-04-26T06:19:51Z,1,1,1,,2,2
12526,2020-04-29T05:59:51Z,2020-04-30T05:02:09Z,2020-04-30T05:02:09Z,3,248,0,"Brief Information
because i pull request without run  npm run lint, and the ide is not warned me, so i add husky to make sure the eslint has been check before commit.
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
add husky and pre-commit task to keep the code style consistent
Fixed issues
Details
Before: What was the problem?
may commit a pr without check the code style
After: How is it fixed in this PR?
the commit will interrupt by the git-hook (husky)
Usage
Are there any API changes?

 The API has been changed.

Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,3
12550,2020-05-01T06:49:25Z,2020-08-04T12:52:30Z,2020-08-04T12:52:30Z,2,13,7,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

allow user to custom brush style in toolbox.feature.dataZoom
Fixed issues

#8964
Details
Before: What was the problem?


框选型数据区域缩放组件不能更改选框颜色，在暗色主题下表现不好
After: How is it fixed in this PR?
允许用户通过配置自定义选框样式
   toolbox: {
        feature: {
            dataZoom: {
                show: true,
                yAxisIndex: null,
                brushStyle: {
                    borderWidth: 2,
                    color: 'blue',
                    opacity: 0.1,
                    borderColor: '#596A76',
                 }
            },
        }
    },



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,2
12558,2020-05-03T17:16:54Z,2020-08-04T06:03:59Z,2020-08-04T06:03:59Z,3,603,8,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix bugs:



bmap event moveend is always triggered when dragging




bmap event moveend is triggered when zoomend



Details
Before: What was the problem?
When you added an event listener moveend on bmap, and then try to drag or zoom the map, the moveend event will be always triggered unexpectedly.
Code to Reproduce
var bmap = myChart.getModel().getComponent('bmap').getBMap();
 bmap.addEventListener('moveend', function(e) {
    console.log(e.type);
 });              
Unexpected Result

After: How is it fixed in this PR?
In the file BMapCoordSys.js, before chart layout and render, don't set center and zoom of bmap if both center and zoom are not changed in BMapCoordSys.
Code to Fix

Expected Result

Usage
Related test cases or examples to use the new APIs
Refer to test/bmap2.html",3,2
12561,2020-05-04T09:43:27Z,2020-08-04T06:42:54Z,2020-08-04T06:42:54Z,2,140,7,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?



Fixes the issue #12560.




Fixes the bug that pie series will be rendered incorrectly when a user forgets to delete \n or retained some spaces in DataView.



Fixed issues
Close #12560
Code to Reproduce:

case 1. Click the DataView tool at the top-right cornor, and delete the first line USA.
case 2. Delete the last line (but don't remove \n or  just retain some spaces).

Details
Before:


After:


Usage
Related test cases or examples to use the new APIs
Refer to test/pie-dataView.html",3,2
12568,2020-05-06T01:36:12Z,2020-05-13T07:10:20Z,2020-05-13T07:10:21Z,1,3,4,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
We know the function clone in zrender is equal to the function clone in echarts.util.
Therefore, there is no need to import clone from zrender and it can be fetched from echarts object.
This fixing will reduce unnecessary imports and minimize the size of distribution file.
Details
Before: What was the problem?
Redundant imports will be packaged into the final distribution file
After: How is it fixed in this PR?
Use echarts.util.clone instead.
Related commits
Refer to this commit defffbe about extension-src/bmap/BMapView.js",2,2
12590,2020-05-08T06:11:37Z,2020-06-29T02:17:58Z,2020-06-29T02:17:58Z,8,628,19,"the type=graph support multiple edges between two nodes
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
the type=graph support multiple edges between two nodes
Fixed issues
#6811
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.

series > autoCurveness
// if number will set curveness list max length with params
// if function will use the return array as the curveness list 
autoCurveness: 'number | function() {}'

Related test cases or examples to use the new APIs
graph-mulitple-edges.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",13,18
12608,2020-05-11T10:11:22Z,2020-05-13T07:08:00Z,2020-05-13T07:08:01Z,2,21,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Added the  dispose method for rich tooltip, closes #12607.
Fixed issues

#12607

Details
Before: What was the problem?
An error will occur when calling chart.dispose().
After: How is it fixed in this PR?
Add the  dispose method for TooltipRichContent.
Usage
Related test cases or examples to use the new APIs
Refer to test/tooltip-rich.html",3,2
12637,2020-05-15T03:53:48Z,,2020-09-15T03:21:39Z,2,96,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
fix 10537, the type='radar'>tooltip>trigger='axis', no effect
Fixed issues
#7836
#10537
Details
Before: What was the problem?

After: How is it fixed in this PR?



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,1
12643,2020-05-15T12:38:40Z,2020-05-18T03:10:26Z,2020-05-18T03:10:26Z,1,2,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
[✅ ] others

What does this PR do?
in some micro front-end framework( for examle taobao's qiankun framework), window maybe is a Proxy ,so use document.defaultView instead of it , to solve the saveAsImage error.
Fixed issues
before:

after:",2,2
12659,2020-05-19T06:50:29Z,2020-06-18T05:22:23Z,2020-06-18T05:22:23Z,1,2,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Provide elapsed time in rendered event.
Usage:
chart.on('rendered', function (params) {
    console.log(params.elapsedTime);
});

Fixed issues

Details
Before: What was the problem?


Developers find it hard to know how long does it take for each frame when debugging.
After: How is it fixed in this PR?


Providing elapsedTime of each frame in rendered event.
Usage
Are there any API changes?

 The API has been changed.


Added params:
chart.on('rendered', function (params) {
    console.log(params.elapsedTime);
});

Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
Relies on ecomfe/zrender#570 . Merge after the PR in zrender is merged.",2,2
12664,2020-05-19T09:45:36Z,2020-08-04T13:49:46Z,2020-08-04T13:49:46Z,6,491,12,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix bugs with tooltip textStyle with:
A) In 'html' renderMode:

Enabling text shadow settings with all series

B) In 'richText' renderMode:

Enabling text shadow settings with all series
Enabling font settings with all series
Correcting new line for radar and map series and markers

Fixed issues

#12232

Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,3
12669,2020-05-20T03:44:34Z,2020-08-05T03:19:10Z,2020-08-05T03:19:10Z,2,72,17,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Hide labels when markArea is not inside grid
Fixed issues

#12591: The presentation problem of markArea labels when scrolling

Details
Before: What was the problem?
MarkArea label is displayed when the markArea is outside of grid.

After: How is it fixed in this PR?
MarkArea label is not displayed when the markArea is outside of grid.

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,4
12674,2020-05-20T14:12:10Z,2020-05-21T08:33:23Z,2020-05-21T08:33:23Z,1,1,1,"which 'restore' should be 'restore'

Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fixed a spell error in the comment
Fixed issues

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,1
12695,2020-05-25T11:52:58Z,2020-06-11T04:34:37Z,2020-06-11T04:34:37Z,2,11,4,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fixes the bug that symbolRotate does not work for radar series.
Details
Before: What was the problem?
Whatever we set symbolRotate, symbol of radar is always facing north.

After: How is it fixed in this PR?
symbol of radar will perform a rotation as we specify.

Usage
Related test cases or examples to use the new APIs
Please refer to test/radar.html.",3,3
12721,2020-05-29T14:44:53Z,,2022-04-07T11:07:50Z,1,18,0,"Brief Information
This pull request is in the type of:

bug fixing

What does this PR do?

calculate the rich label
Fixed issues
Close #12708
Details
Before: What was the problem?



doesn't caluculate the rich informations

After: How is it fixed in this PR?



caluculate the rich informations

Usage
Are there any API changes?

The API hasn't been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,1
12737,2020-06-02T13:50:51Z,2020-06-03T02:06:52Z,2020-06-03T02:06:52Z,2,15,4,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fixes #12731 symbolRotate for markPoint does not work
Fixed issues

#12731

Details
Before: What was the problem?
Symbols don't rotate even if we've specified symbolRotate.

After: How is it fixed in this PR?
Symbols will perform the rotation as we specified.

Usage
Related test cases or examples to use the new APIs
Please refer to test/markPoint.html.",2,0
12742,2020-06-03T06:42:27Z,2020-06-04T15:25:55Z,2020-06-04T15:25:55Z,8,205,71,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Sunburst labels didn't support formatters in levels. This PR enables them.
Fixed issues

#12223: 旭日图 levels层级标签formatter不生效

Details
Before: What was the problem?
label.formatter under levels has no effect.
After: How is it fixed in this PR?
label.formatter under levels takes effect.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,0
12754,2020-06-04T09:23:10Z,2020-08-05T09:02:10Z,2020-08-05T09:02:10Z,3,188,56,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Funnel chart support orient API with value vertical(default) or horizontal.
Fixed issues

Details
Usage
Are there any API changes?

 The API has been changed.


series-funnel.orient: vertical | horizontal
Related test cases or examples to use the new APIs
NA.
option = {
  series: [
      {
          name:'漏斗图',
          type:'funnel',
          gap: 3,
          left: 300,
          right: 300,
          orient: 'horizontal', // vertical | horizontal, default value is vertical
          label: {
              normal: {
                  position: 'leftTop'
              }
          },
          data:[
              {value:60, name:'访问'},
              {value:40, name:'咨询'},
              {value:20, name:'订单'},
              {value:80, name:'点击'},
          ]
      }
  ]
}
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,4
12758,2020-06-05T10:27:38Z,,2020-08-04T05:29:57Z,3,105,43,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

fixes #12642, tweaks #12673  (lineHeight does not work)
added more supported properties of label (opacity, rotate, borderRadius).
added support for rich label.
fixes the bug that formatter in axisPointer.label will affect formatter in tooltip.

Fixed issues

#12642

Details
Before: What was the problem?

Some properties are invalid, such as width, height, textShadowColor, textBorderColor, textBorderWidth.
Rich label is not supported yet.

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.

Added opacity, rotate, borderRadius, rich properties
Related test cases or examples to use the new APIs
Please refer to test/tooltip-axisPointer2.html.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
A known issue is that it's invalid to set width or height to a percent string in rich.",3,2
12762,2020-06-06T15:17:26Z,2020-06-22T04:20:06Z,2020-06-22T04:20:06Z,2,367,6,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Because of the change about the structure of normal style and emphasis style, original logic about fetching formatter of label has been not suitable. There are some changes to be done.
Original way to fetch label formatter:
normal: label.formatter (It's okay now)
emphasis: label.emphasis.formatter(in #10666, a dot is also missing, but even if we add it, it is still not correct for present option structure).
Present way to fetch label formatter:
normal: label.formatter (same as original way)
emphasis: emphasis.label.formatter (See geo.emphasis.label.formatter).
Fixed issues

#10666
#8612

Details
Before: What was the problem?
geo.label.formatter is not working.
After: How is it fixed in this PR?
Using the way suitable for current option structure.
var formatter = regionModel.get((status === 'normal' ? '' : 'emphasis.') + 'label.formatter');

Usage
Are there any API changes?

 The API has been changed.

Related test cases or examples to use the new APIs
Please refer to test/geo-labelFormatter.html.
Others
Merging options

 Please squash the commits into a single one when merge.",3,3
12780,2020-06-09T09:57:50Z,2020-06-11T03:48:44Z,2020-06-11T03:48:44Z,1,11,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
According to Coding Standard, ES5 shouldn't be used. This PR removed related usage.
Details
Before: What was the problem?
Object.keys which belongs to ES5 is used in source code.

After: How is it fixed in this PR?
Added a function named isEmptyObject as the substitution for Object.keys
function isEmptyObject(obj) {
    for (var key in obj) {
        if (obj.hasOwnProperty(key)) {
            return false;
        }
    }
    return true;
}

Usage
Are there any API changes?

 The API has been changed.",2,2
12781,2020-06-09T11:12:41Z,,2020-10-02T06:53:02Z,2,101,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fixes #12778
Fixed issues

#12778

Details
Before: What was the problem?

When enterable is true, tooltip isn't hidden when mouse leaves tooltip content.


After: How is it fixed in this PR?

We should set _inContent to false before hideLater, please refer to hideLater for more infomation.


Expected result

Usage
Are there any API changes?

 The API has been changed.

Related test cases
Refer to test/tooltip-enterable.html",3,1
12793,2020-06-10T15:21:12Z,2021-12-07T05:49:45Z,2021-12-07T05:49:45Z,2,316,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

fix zero data in pictorialbar can't render correct, when the borderWidth be setted.
Fixed issues


#12789

Details
Before: What was the problem?

I'm not exactly sure what pxSign really means, but it looks like a direction.
when data is zero, then boundingLength is zero, pxSign will be zero, and then symbolScale will be zero too, and if borderWidth setted and not zero,  the valueLineWidth will be NaN.



After: How is it fixed in this PR?

pxSign will be part of the denominator somewhere else, so it shouldn't be 0


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merging.

Other information",4,9
12828,2020-06-19T05:18:58Z,2020-06-19T09:22:10Z,2020-06-19T09:22:10Z,8,10,10,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Replace typos in comments defining something as ""defualt"".
Fixed issues
Details
Before: What was the problem?
Comments had sometimes defualt instead of default (inverting au).
After: How is it fixed in this PR?
Typos are fixed, replacing defualt with default.
Other information
Changes only to comments - code did not show these typos.
I hope it's ok to exclude dist (i understand that's only updated by a release?).
If not let me know.",3,2
12832,2020-06-19T09:43:46Z,2020-06-20T07:15:49Z,2020-06-20T07:15:49Z,20,1167,345,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

fix: some refactor about dataZoom and axis scale extent calculation:


The ""scale extent calculation"" is depended by both coord sys and ""dataZoom"".
So it need to be performed in different stage of workflow and should avoid to call it repleatly or implement it repeatly.
But previously, the ""scale extent calculation"" is implemented both in axisHelper.ts and dataZoom/AxisProxy.ts,
where different code implements similar logic.
""Scale extent calculation"" is based on input of:
(I) option specified min/max/scale (including callback) and
(II) dataExtent and
(III) some filter related components like dataZoom.
Currently we need add more filters depends on that axis scale calculation.
e.g.,
(I) one axis min max effect the other axis extent
(II) custom filter.
So we refactor that ""Scale extent calculation"" as a reusable module (see scaleRawExtentInfo.ts).


Based on (1), make the callback of axis.min/axis.max consistent whatever it is called in
""data processing stage"" or ""coord sys updating stage""


Based on (1), fix some ""inconsistent"" flaw in dataZoom when handling stacked series.


Fix the type of axis.min/max to ScaleDataValue. And enable the callback of axis.min/max to return ScaleDataValue.


Remove some code that never used.


Make the ""data filter"", which will ""block stream"", not as the default data processor in the register API.


feature: Enable category axis min/max to shrink the other axis extent in cartesian.
After this modification, if some data if out of the range of a category axis,
the data item will not be filtered, but the extent of the other axis will be calculated
based on the filtered data.
If dataZoom is used in either of the xAxis or yAxis in that cartesian, the shrink will not be performed.",2,1
12834,2020-06-19T14:41:08Z,2020-06-23T07:32:41Z,2020-06-23T07:32:41Z,4,441,15,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

when alwaysShowContent is true change or rotation window size and restore will hide tooltip
Fixed issues
Close #12812

Details
Before: What was the problem?


1- display echart tooltip exemple: https://echarts.apache.org/examples/en/editor.html?c=line-tooltip-touch
2- add option 'alwaysShowContent: true' for tooltip
3- click on the chart for display tooltip
4- change window size or rotation
the tooltip move, not corresponding to the selected point position
After: How is it fixed in this PR?


when alwaysShowContent is true change or rotation window size and restore will hide tooltip
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,18
12850,2020-06-23T03:42:03Z,2020-08-04T06:21:55Z,2020-08-04T06:21:55Z,2,104,3,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fixes the bug that lines series will disappear after setOption({}), closes #12836.
Fixed issues

#12836
#9212

Details
Before: What was the problem?
See #12836, #9212
After: How is it fixed in this PR?
Tweaked LinesSeries.mergeOption, removed the code line below
option.data = option.data || [];
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Refer to test/lines-mergeOption.html.",2,2
12859,2020-06-28T07:10:55Z,2020-07-29T02:17:49Z,2020-07-29T02:17:49Z,21,1128,157,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Improves label formatting for time axes.
Fixed issues

Details
Before & After
The ""After"" parts are at proposals stage by now.
1. Default time axis labels don't have nice format and display information not so important
Before:

    xAxis: {
        type: 'time',
        interval: DAY / 4,
        axisLabel: {} // default
    },
For example, in the above case, labels of each day are all in the format of MM-DD\nYYYY, but the months and years are all the same so they should not be displayed so many times to distract users for the real important information: date.
After:
The default result of the above case have the interval of 6 hours, thus default hour formatter (may be 'hh:mm') should be used to display labels in hours and day formatter ('YYYY-MM-DD') be used when day changes. This is the expected result:

And the default style of the primary level (like day in this case) and secondary level (hour in this case) are different (maybe we can use a lighter text color for secondary level labels) and can be customized though axisLabel.rich.primaryStyle and secondaryStyle.
2. Multiple labels with the same text may be displayed by default
Before:
Also with the above example, we can see that there are three 05-12 2012 labels, which is confusing. Especially, this should not be the default behavior of labels.
After:
There won't be labels with the same date and hour labels will be displayed in the above case.
3. Custom style is too complex to write with rich text
Before:

To get the above result, the user has to write the following long code of formatter. Users may not know they could do this, even with clear documentation.
formatter: function (value) {
    if (value % DAY === 0) {
        var month = echarts.format.formatTime('M月', value)
        var dayOfM = echarts.format.formatTime('d日', value)
        return '{strong|' + dayOfM + '}\n{lite|' + month + '}';
    }
    else {
        var formatted = echarts.format.formatTime('h点', value);
        return formatted;
    }
},
rich: {
    strong: {
        color: '#2784e8',
        fontSize: 14,
        fontWeight: 700
    },
    lite: {
        color: '#999',
        lineHeight: 15,
        fontSize: 10
    }
}
After:
Current callback form of formatter will also be available, but we also provide a much simpler way to write if the logic is not so complex.
We will support formatters for varied levels like year, month, day, hour, minute and etc., and each of them supports the formatter in either forms of {hh}:{mm}:{ss} for simple plain text or {xxx | {hh}:{mm}:ss} for rich text, whose style can be configured in axisLabel.rich.
4. Cannot use different formatters for different intervals
Consider the ""2020 Feb"" and ""Feb"" in the following example. The user want to use different formatters ('YYYY-MMM' in case A and 'MMM' in case B.
case A:

    |_____________|_____________|_____________|__ ...
  30th         2020 Feb        2nd            3rd


case B:

    |_____________|_____________|_____________|__ ...
  2020           Feb           Mar           Apr

Before:
It cannot be done.
After:
formatter.month defines formatters when the tick value is a month value (by checking if it's the first day of a month). And it can be in the form of an array of formatters like: ['YYYY-MMM', 'MMM'].
This means, if the label is a first-level (also called primary level) as in case A, where the levels of the labels are day, month, day, day, it uses the first element in the array for the second tick, which is 'YYYY-MMM' and gets ""2020 Feb"". Similarly, in case B, where the levels of the labels are year, month, month, month, it uses the second element in the array for the second tick and gets ""Feb"".
5. Cannot display ticks exactly on the first day of a month or week
Before:
There are different days in each month, e.g., 28/29 for Feb and 31 for July. There is no way to make sure the first day is displayed.

This looks a bit arbitrary when choosing the days to be displayed with ticks. And it cannot be changed even with configuration.
After:
If the months are different with min and max data (but years are the same), the primary level will be month and we make sure that the first day of each month is displayed with ticks. Note that in this case, the space between each ticks are not the same because days in months are not.
6. i18n
Before:
Using formatter in the callback form like echarts.format.formatTime('M月', value). It is quite challenging for developers not so familiar with JavaScript.
After:
We can provide frequently used time formats like YYYY for full year, MM for month number and so on. Moment.js and can be served as references.
i18n of the time axis should be considered along with other i18n requirements in ECharts, like toolbox and so on.
We are considering embed with English and Chinese language by default with ECharts and other languages can be used as extensions. We are still discuss about the details on this. But the bottom line is, it won't be necessary for developers to implement by using code as low level as echarts.format.formatTime.
Usage
Are there any API changes?

 The API has been changed.

Before:
axisLabel: {
    formatter: string | function    // If it's a string, rich text is supported. If it's a function, it can return rich text.
    rich: { ... }  // For label rich text if formatter uses rich text. Default value is null.
},
interval: number  // The exact interval of ticks
After:
axisLabel: {
    formatter: string | function | object  // If it's an object, it's in the type of LevelFormats
    rich: {  // There are two rich styles defined in ECharts by default, which user may use in formatter
        primary: {
            color: '#000'  // We use a darker color for primary level text
        }
    }
},
interval: number | string[]  // If it's string[], it should be like ['month', 'day'] meaning the tick intervals may be month or day
LevelFormats is defined as:
type LevelFormats = {
    year?: string | string[],
    month?: string | string[],
    day?: string | string[],
    hour?: string | string[],
    ...
}
The string can either be a plain text like '{hh}:{mm}:{ss}' or a rich text like strong | '{hh}:{mm}' and define the rich style strong in formatter.
Well... I know this sounds a little complex right now. But it's actually turns easier when you see the real world examples.
Example of Usage
1. Default
No formatter is required. Label text will display as what we think work for general cases.
2. Custom primary and secondary styles
case A:

    |_____________|_____________|_____________|__ ...
  30th         2020 Feb        2nd            3rd


case B:

    |_____________|_____________|_____________|__ ...
  2020           Feb           Mar           Apr

If the user wants to use red color for 2020 Feb in case A and 2020 in case B, this is what required:
xAxis: {
    // no formatter is required
    rich: {
        primary: {
            color: 'red'
        }
    }
}
3. Display only weeks of year
xAxis: {
    interval: ['week'],
    axisLabel: {
        formatter: {
            week: 'Week w'
        }
    }
}
Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",5,10
12868,2020-06-30T08:10:53Z,2020-07-07T04:18:54Z,2020-07-07T04:18:55Z,3,543,3,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Added support for specifying initial map options, such as minZoom, maxZoom, enableHighResolution, enableAutoResize and enableMapClick. Note that mapType is not supported, can use bmap.setMapType(MapType) instead.
https://lbsyun.baidu.com/cms/jsapi/reference/jsapi_reference.html#a0b1
Fixed issues

#6902
#8422
#8806
#11802

Details
Before: What was the problem?

Since Baidu Map sets enableMapClick as true by default, the POI's icon will be clickable when using ECharts bmap extension.
This option can't be dynamically changed in runtime. We want to disable it to improve experience sometimes.


After: How is it fixed in this PR?

By specifying enableMapClick for false, POIs on map will be unclickable as we expect.
bmap: {
    center: [104.114129, 37.550339],
    zoom: 5,
    roam: true,
    mapOptions: {
        enableMapClick: false,
        maxZoom: 15,
        minZoom: 5
    }
}


Usage
Are there any API changes?

 The API has been changed.



added a new option named mapOptions.

Related test cases or examples to use the new APIs
Refer to test/bmap-mapOptions.html.",2,2
12891,2020-07-02T00:47:17Z,2020-07-02T10:22:15Z,2020-07-02T10:22:15Z,5,6,8,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Tweak #12590 according to #12590 (review)",2,3
12915,2020-07-06T06:08:10Z,2020-07-07T04:16:55Z,2020-07-07T04:16:55Z,1,2,2,"update line color when update charts

Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fixed issues

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
12943,2020-07-08T15:17:16Z,2020-07-14T13:45:21Z,2020-07-14T13:45:21Z,1,2,4,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Use mixinAxisModelCommonMethods to mix radar axis model with AxisModelCommonMixin
Fixed issues
Details
Before: What was the problem?
AxisBaseModel don't have getNeedCrossZero method

After: How is it fixed in this PR?
No error
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,3
12947,2020-07-09T15:28:35Z,2020-07-30T02:23:54Z,2020-07-30T02:23:54Z,26,3843,165,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

Progress

 New style: background color, box shadow, border color, font weight
 tooltip order: add new order option for order, provided values are valueAsc | valueDesc | legendDesc | legendAsc. Default is legendAsc.
 border color is the color of current series.
 tooltip arrow points to current series(trigger is item).
 tooltip border color for stacked line chart
 tooltip border color with datazoom
 tooltip border color with visualMap
 line
 bar
 tree
 tree map
 sankey
 radar
 graph
 pie
 themeriver
 map
 scatter

What does this PR do?
New tooltip style for 5.0
Tooltip arrow
When trigger was item and position is top | bottom | left | right, Tooltip will show arrow and it points to current series




Tooltip border color
trigger was item, border color will be the color of this series
trigger was axis, border color depends on whichever closer to cursor.


Fixed issues
Close #12929
Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
TODO

position in rich mode
first time showing tooltip, tooltip rise from bottom",5,16
12961,2020-07-13T10:11:01Z,2020-08-28T05:17:53Z,2020-08-28T05:17:53Z,13,457,77,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Support for configuring the following options for lineStyle.

lineDashArray (dashArray)
lineDashOffset (dashOffset)
lineCap (cap)
lineJoin (join)
miterLimit (miterLimit)

Support for configuring the following options for border.

lineDashArray (borderDashArray)
lineDashOffset (borderDashOffset)
lineCap (borderCap) (NOT for label text)
lineJoin (borderJoin) (NOT for label text)
miterLimit (borderMiterLimit) (NOT for label text)

TODOs:

 Support for line
 Support for border
 Support for text
 Support for axisPointer.label
 Compatible with legend(#12444)
 Fix the bug in label

Fixed issues
N/A now.
Details
Before: What was the problem?

The line and border lack support for dash styles, such as dashArray, dashOffset, cap, join and etc.

After: How is it fixed in this PR?

Added some new options about the dash style, as mentioned above.



Usage
Are there any API changes?

 The API has been changed.


Refer to the mentioned above.
Related test cases or examples to use the new APIs
test/line-style.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information

There are some PRs for supporting dash style in zrender, please refer to ecomfe/zrender#618, ecomfe/zrender#628.",2,3
12973,2020-07-15T12:27:44Z,2020-07-16T02:06:05Z,2020-07-16T02:06:05Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

fix the email link for dev@echarts.apache.org in README.",2,1
12987,2020-07-17T16:49:35Z,2020-07-18T09:47:27Z,2020-07-18T09:47:28Z,55,5068,1466,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Support replaceMerge in setOption
Provide a new mode in setOption to support removal of some components.
After this PR, there are three mode about component update:

normalMerge (already has)

chart.setOption(option);
Most common used. The existing component will NEVER be removed.
The components declared in the input option will be merged to some existing component by id/name/index, or create new component if not able to be merged.

notMerge (already has)

chart.setOption(option, true);
// or
chart.setOption(option, { notMerge: true });
Replace all of the existing models with the new option, no state in models are kept.

replaceMerge (new)

chart.setOption(option, {
    // specify component ""mainType"" here.
    replaceMerge: 'series'
});
chart.setOption(option, {
    // specify components ""mainType"" here.
    replaceMerge: ['xAxis', 'yAxis', 'grid']
});
The specified component (by mainType) will be performed replaceMerge, others will go with normalMerge.
replaceMerge means:
Within the scope of a certain mainType, the existing components will be merged with the new component declarations (in the input option) only if they have id matched. All of the other existing components will be removed, and all of the other new components will be created on the empty componentIndex.
By the mechanism of replaceMerge, we can remove a certain mainType of components, or totally replace them with new components, or partially replace and partially remain.
Support option timeline.replaceMerge
See show case below for details.
Others fix and enhancement

DataZoom enhancement:

Including both ""slider dataZoom"", ""inside dataZoom"", ""toolbox dataZoom"".
Make it works when some of the axis removed, or some of the dataZoom removed.
Supports referencing axes by axis id.
DataZoom supports referencing all axes by like xAxisIndex: 'all', referencing none axis by like xAxisIndex: 'none' or xAxisIndex: false.
DataZoom ""auto axis selection"" logic previously only work on the first setOption. Now make it works on multiple time of setOption.
Some refactor to simplify the code.


Refactor some of the component reference logic to make their logic the same in detail.
Try to support the reproduce an chart instance in other chart instance in some simple cases (via getOption). The state of the chart instance (like zoom state) will be reproduced.

Show case
Previously, the interaction state can not be kept if using notMerge mode:

At present, the interaction state can be kept when using replaceMerge mode:

At present, we are able to add and remove coordinate systems freely, and make dataZoom controls axis as expected. That might be some basic of storytelling demo. Previously, there were several bugs not also about coord sys but also about toolbox and dataZoom:

At present, series can be removed, while other not related series and  components keeping their state:

Previously, there is a timeline bug when different time tick has different number of series (series can be added but can not be reduced):

At present, series can be removed in timeline:

Related test cases
<test/option-replaceMerge2.html>
<test/option-replaceMerge.html>
<test/dataZoom-feature.html>
Memento
Whether to change the component index after other components removed?
The questions is: whether the componentIndex of should be changed after some component removed via setOption in replaceMode.
There has been some discussion about it, but not clear at that time because not touch the code enough then.
After trying to implement it, found something more clearly:
Suppose there has been component: [A, B, C, D].
That means: A.componentIndex === 0, B.componentIndex === 1, ...
Then call setOption in replaceMerge mode to remove B, C and add X.
Strategy of change the index
The final component indices may be like: [A, X, D], or it also may be [A, D, X].
There might be no easy and intuitive way to make users aware what the final indices are.
Strategy of keep the index
The final component indices may be like: [A, X, -, D], or it also may be [A, -, -, D, X].
Users are also not easy to know what D.componentIndex is. But at lease, users can know that the existing A and D do not change their componentIndex. Thus the ""index reference"" (like xAxisIndex, yAxisIndex) in option about A and D will not be broken.
So we can probably found that:
(1) In either of the two strategy, users are probably not able to know clearly what the final indices like if the second setOption both added and removed something. Therefore, if users meet this kind of scenario, it's not a good idea to use index to reference components. On the contrary, using id should be recommended.
(2) [strategy_keep_index] do not break the previous ""index reference"".
(3) [strategy_change_index] might make the code more brittle, because it forbids any of the persistence (like hash map key) are relevant to componentIndex, seriesIndex (because it might be changed). It not easy to always ensure that and might not easy to be found in test stage.
So finally, chose [strategy_keep_index]. And in this strategy, the ""hole"" might exists. New components are first to fill the hole.
TODO: Do we need notMerge: ['xxx']
notMerge: ['series'] seems more intuitive than replaceMerge: ['series'] when just need to totally replace series.
And if we only want to reset a type of components,
if we use replaceMerge: ['dataZoom'], we need to make sure id is not specified or change a different id.
Comparatively notMerge: ['dataZoom'] is easy a bit.
TODO: about the ""Restore"" feature
""Restore"" feature means the toolbox.feature.restore and the action ""restore"".
Previously the implementation of ""restore"" is not a complete solution, because after the second setOption, in some case it can not restore to exactly the original state.
The reason is, the original requirement expect that ""only restore the user interaction"" but ""do not restore the setOption result"" (setOption is always used to update the data).
If these things below happen one by one:
orgianl_state => user_zoom_data_1 => call_setOption_updated_data_1 => user_zoom_data_2 => call_setOption_updated_data_2
After ""restore"" click, we expect the final state exactly the same as:
orgianl_state => call_setOption_updated_data_1 => call_setOption_updated_data_2
The previous implementation is temporary and not totally correct and not easy to be enhanced to support the new feature ""replaceMerge"".
So we do not support it at present and remove the support of ""restore"" after the second setOption temporarily.
That is a TODO .
Other information
Related issues: #6202 #4356 #4033 #8246 #3002
related discussion",2,2
12991,2020-07-19T05:00:05Z,2020-07-21T03:24:35Z,2020-07-21T03:24:35Z,2,154,82,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
While rendering data for heatmap, judgement on whether data item will be out of current axis scale extent were implemented, and those items out of visible range will be skiped.
Fixed issues

#12969
Details
Before: What was the problem?
As original issue states, yAxis labels will be covered by color blocks (data series) in heatmap when min option was applied to xAxis. Actually these blocks should not be rendered since they are not in current extent of xAxis.

After: How is it fixed in this PR?
A judgement before rendering rect for each data item was added to calculate whether it will be in the extent, and rendering will be skipped if it is not in the extent.
This change also passed tests for scale changes cases such as using dataZoom control, using data zoom in toolbox, etc.

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
I have to admit that it's not a so perfect solution. A general solution for handling this case (judge whether dataItem is in the scale of current displayed coord) will sure be better but failed to find one, since I found that different series handle such kind of cases in different ways and hard to find a general one also applicable to heatmap. Feel free to comment if have any better idea.",2,3
12997,2020-07-20T15:36:32Z,2020-07-21T03:22:24Z,2020-07-21T03:22:24Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Data sampling doesn't work when size in dataSample is negative.
Fixed issues

NA.
Details
Before: What was the problem?


e.g. In line-large.html and largeLine.html, data sampling doesn't work because extent[1] - extent[0] is negative.
After: How is it fixed in this PR?


Fixed.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13013,2020-07-23T09:13:38Z,2020-07-27T02:17:33Z,2020-07-27T02:17:33Z,4,111,7,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

According to the suggested design change in #12931, add a new semantic value bolder for emphasis.lineStyle.width for line series to specify whether the line should be bolder when it's in emphasis state.
Fixed issues

#12931

Details
Before: What was the problem?


The line series won't be bolder to highlight when hovering on it unless users specify emphasis.lineStyle.width.
After: How is it fixed in this PR?

By default, the line series will be bolder when hovering on it. But if users set emphasis.lineStyle.width as a specific number manually, it will be bolder as they specified.


Usage
Are there any API changes?

 The API has been changed.


Added a new semantic value bolder for emphasis.lineStyle.width , default value is bolder.
Related test cases or examples to use the new APIs
Refer to test/line-boldWhenHover.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,4
13015,2020-07-23T10:39:22Z,2020-07-24T06:22:22Z,2020-07-24T06:22:22Z,2,73,74,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

fix the bug which may bring a crash of browser when using dataURI as the icon of timeline control, closes #12867.
Fixed issues

#12867

Details
Before: What was the problem?


If users specify timeline.control.controlStyle.playIcon for a dataURI, it may lead to a crash of the browser.
After: How is it fixed in this PR?

Changed the implement of makeIcon to graphic.createIcon from graphic.makePath.

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Please refer to test/timeline-dynamic-series.html.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
N/A.",2,2
13025,2020-07-26T07:56:56Z,2020-07-27T03:29:18Z,2020-07-27T03:29:18Z,7,334,44,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
This pull request brings select by brushing interaction in dataZoom. This new interaction also includes changes in UI.
Details
Currently this feature is enabled by default. It can be turned off by setting brushSelect: false.
If it's enabled, it will show an extra handle to indicate the drag zone. Here is a picture to explain the areas for different interactions.

And an interaction GIF:

New API
dataZoom: {

    brushSelect?: boolean
    brushStyle?: ItemStyleOption

    /**
     * Icon to indicate it is a draggable panel.
     */
    moveHandleIcon?: string
    moveHandleStyle?: ItemStyleOption
    /**
     * Height of handle rect. Can be a percent string relative to the slider height.
     */
    moveHandleSize?: number
    
    emphasis: {
        moveHandleStyle?: ItemStyleOption
    }
}",2,2
13034,2020-07-28T08:18:09Z,2020-07-28T10:12:16Z,2020-07-28T10:12:16Z,102,418,1622,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
This pull request enhances the build pipeline for release. Which includes:

Release bundle generation.
lib folder and esm folder generation. For CJS and ESM format respectively.
Replace __DEV__ with process.env.NODE_ENV  !== 'production'  and let developers' webpack do the job.
Replace __DEV__ with true or false in the bundle. Let uglify remove the dead code after minified.
Fixes zrender root in lib and esm. Replaced the original src with lib / esm.
Parallel build to speed up in npm run release
Add module and main field in the package.json

Also, this PR includes some code reactions.

Remove __DEV__ defines in config.ts
Extract getECData from graphic.ts to avoid circular dependency

Break Change
1. Not support import from src anymore.
The following import code:
import * as echarts from 'echarts/src/echarts';
is replaced by
import * as echarts from 'echarts/esm/echarts';",2,2
13038,2020-07-29T03:54:24Z,2020-07-30T15:17:22Z,2020-07-30T15:17:22Z,44,2033,490,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Refactor the i18n solution
Fixed issues
#12926
Details
Before: What was the problem?

i18n depends on packaging solution

After: How is it fixed in this PR?

as No.9 in the #12926 , refactor the i18n solution

Usage
Are there any API changes?

 The API has been changed.


add the method as
echarts.registerLocale('ES', lang);

add the params in the echarts.init as
echarts.init(document.getElementById('main3'), null, {
            locale: 'ES'
        });

Related test cases or examples to use the new APIs
lang.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
need to be done：
1、review the i18n solution is right
2、delete lang packaging code
3、check the test case is cover all the situation",4,2
13044,2020-07-29T09:15:49Z,2020-07-29T12:47:09Z,2020-07-29T12:47:09Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix a bug that the parseDate function can not parse a date string like 2020-07-29 09:2:5.
The minute/second has only one number, not padding with 0.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
Another potential bug about time is mentioned in #13039 (comment)",2,2
13045,2020-07-29T11:13:25Z,2020-07-30T15:47:43Z,2020-07-30T15:47:43Z,9,362,210,"See #12484 for more details.
This PR fixes:

 Label interpolation animation when calling setOption for multiple times
 Sort first before filtering with axis min and max
 Bugs when merged with the current next branch
 Bugs when bars out-of-sight going into sight",3,2
13046,2020-07-29T12:19:20Z,2020-07-30T02:31:09Z,2020-07-30T02:31:09Z,7,55,32,"Brief Information
What does this PR do?
This pull request includes optimization of the default axis style. Which includes:

Not shown line and tick of value axis when another axis is category or time
Change the color of the line, label, splitLine, splitArea.
Change the color of dataZoom label.
Change the color of axisPointer. Also, change it to dashed line.
Change the color of title subtext.

The whole change is to emphasize the main chart area by downplaying the axis.
Details
Before: What was the problem?




After: How is it fixed in this PR?",2,2
13047,2020-07-29T12:50:17Z,2020-07-30T02:31:38Z,2020-07-30T02:31:38Z,1,2,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Changed the separator of generating description of the chart.
Fixed issues

Details
Before: What was the problem?
There are no space after comma in the description of the chart (only in english version).
After: How is it fixed in this PR?
Change
separator: {
                middle: ',',
                end: '.'
            }

to
separator: {
                middle: ', ',
                end: '.'
            }

Are there any API changes?
No.
Merging options

 Please squash the commits into a single one when merge.

Other information",3,3
13060,2020-07-31T07:45:36Z,2020-07-31T11:05:38Z,2020-07-31T11:05:38Z,1,9,5,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Update test case pie3.html
Fixed issues

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13067,2020-08-01T10:52:33Z,2020-08-05T07:41:32Z,2020-08-05T07:41:32Z,1,7,7,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
The first time of showing tooltip on each chart,  because of transition, tooltip rise from the bottom. So disable transition on the first time
Fixed issues

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,4
13078,2020-08-05T10:18:29Z,2020-08-05T12:19:57Z,2020-08-05T12:19:57Z,82,4978,383,,17,2
13079,2020-08-05T15:11:14Z,2020-08-06T02:05:20Z,2020-08-06T02:05:20Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix null pointer access caused brought in #12590",3,2
13080,2020-08-05T16:35:00Z,2020-08-06T02:05:51Z,2020-08-06T02:05:51Z,2,26,11,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
In Line.js (used by graph and markLine), when rotation is not specified by users, the ""auto rotation"" rule should not be broken when rendered at the second time (like when drag graph or move dataZoom).
#12392 support the feature of support user specified symbol rotation in Line.js
Line.js is used by graph and markLine and might other places.
But when rotation is not specified by users, the ""auto rotation"" rule should not be broken when rendered at the second time.
The scenario of ""render at the second time"" are like dragging force layout graph or move dataZoom.
See the triangle below:",3,2
13100,2020-08-07T12:01:22Z,2020-08-26T03:55:14Z,2020-08-26T03:55:14Z,1,3,5,"Brief Information
This pull request is in the type of:

 bug fixing

What does this PR do?
Fix a tooltip disappearing when tooltip trigger is ""axis"" and data is refreshed.
Fixed issues

Details
Before: What was the problem?
Chart with datazoom slider and live update every few seconds. The slider is somewhere in the middle with a fixed value range. When the user hovers over the data, the tooltip with trigger ""axis"" shows correctly. But as soon as new data is pushed to the chart the tooltip disappears. This PR fixes that.
After: How is it fixed in this PR?
Tooltip with trigger axis stays when data is refresehd.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,11
13117,2020-08-13T04:38:12Z,2020-08-13T05:56:08Z,2020-08-13T05:56:08Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Try to fix a typo in src/model/Global.ts
seiresIndex -> seriesIndex
Details
I found this typo exists here for ages but I don't know what bug it brought yet.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,1
13121,2020-08-13T10:48:43Z,2020-08-14T09:19:23Z,2020-08-14T09:19:23Z,5,189,341,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix bug with bar race and move realtimeSort to be under series rather than axis and remove sort and sortSeriesIndex. The original bar race PR is #12484.
Fixed issues

Details
Before: What was the problem?
When there is currently an interchanging happening, calling setOption will make one frame with wrong bar widths (which is the target width after animation).
After: How is it fixed in this PR?
Instead of using during, this PR uses zr.on('rendered') so that sorting is done after a frame is rendered, rather than before. It can fix many other potential problems with bar race.
Usage
Are there any API changes?

 The API has been changed.


Old:
yAxis: {
    sort: true,
    realtimeSort: true,
    sortSeriesIndex: 0,
    ...
},
series: [{
    ...
}]
New:
yAxis: {
    ...
},
series: [{
    realtimeSort: true,
    ...
}]
Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,1
13127,2020-08-14T04:43:00Z,2020-08-14T11:01:02Z,2020-08-14T11:01:02Z,11,978,280,"Enhance data-transform:

rename parse to parser. (break from 5.0.0-alpha.1)
Make value comparable (in filter transform and sort transform) accurate and disambiguate in ""numeric-like string"" and other non-number types.
Add parser ""number""
Add config ""incomparable"" to sort transform. The value can be 'min' or 'max', means that the value that not comparable will be trade as min value or max value.
Modify the definition of util/number.js#isNumeric a little (exclude '0x11' and include Infinity). (break but effect little).

test case:

test/data-transform.html
test/ut/spec/data/helper/dataValueHelper.js
test/ut/spec/util/number.js",3,1
13139,2020-08-17T08:40:55Z,2020-08-26T03:58:35Z,2020-08-26T03:58:35Z,1,9,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix #13031 and #13086
Fixed issues
#13031 has described such a situation that user has provided optionToContent function while has not provided the corresponding contentToOption function.
If we think echarts should also work well in this situation, we need to make contentToOption function totally optional. (In other words, if user hasn't provided it, bugs like missing series data or showing a list of undefined should not happen.)
Details
Before: What was the problem?
If user provide optionToContent function but has not provided contentToOption function, press 'refresh' will lose data and make a list of undefined displayed.
After: How is it fixed in this PR?
Even user has not provided contentToOption function, by pressing 'refresh' button also works well.
Usage
Are there any API changes?

 The API has been changed.


No
Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,4
13210,2020-08-31T12:36:38Z,,2022-01-01T15:09:41Z,8,1408,28,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Multiple value axis alignment
Fixed issues
Close #11390
Close #10928
Details
calAxisNiceSplitNumber: this function calculates nice split of each value axis. Because user can specify min or max to axis, axis might not be cut evenly.  It returns an array of nice split, find out the biggest one, apply to all axis, ideally, each axis has same nice split number (in most case which some option haven't been specified like min, max, minInterval etc ).
resetAxisExtent: this function use calAxisNiceSplitNumber result to set scale again,  then get axis final split number(finalSplitNumber)
adjustValueAxes: this function use biggest finalSplitNumber to calculate unionExtent which represent one unit split's length, then base on axis scale extent and axis scale interval, we can get that in this grid each axis proportion. multiply by unionExtent, it's final axis extent



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

TODO

 work with min",3,10
13214,2020-09-01T02:45:48Z,2020-09-23T03:54:15Z,2020-09-23T03:54:15Z,3,40,15,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?


Fix a bug mentioned in #13213, which was brought by a typo.
Migrate changes to the next branch.

Fixed issues

#13213

Details
Before: What was the problem?


Customized map style(v2.0) is not working because of a typo in line 105.
After: How is it fixed in this PR?


Corrected the typo. newMapStyle2 -> newMapStyle
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
test/bmap.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,3
13227,2020-09-03T06:54:25Z,,2021-07-25T10:28:02Z,2,3,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
The PR updated way of parsing 7th part of date string from simply treat it as milliseconds to pick first 3 digits as milliseconds to avoid unexpected result when backend API return date string with precision of microseconds.
Fixed issues
#13195
Details
Before: What was the problem?
Though 3 digits milliseconds is widely used in most situations, some date formatter will return date string 6 digit microseconds (yyyy-MM-ddTHH:mm:ss.micros) . ECharts will treat micro seconds as milliseconds when parsing DateTime string and cause unexpected result.
After: How is it fixed in this PR?
Keep conistent with default constructor of JavaScript Date - only pick first 3 digits when the length of input part between dot and zulu time marker is longer than 3 digits.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,4
13271,2020-09-13T14:42:24Z,2020-09-15T08:44:08Z,2020-09-15T08:44:08Z,5,676,266,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
In the previous custom series. We can't do transition across different types of shapes. For example, we can't animate from a sector to a rectangle.
In this PR, we bring the ability to do smooth shape morphing across different shapes. It's heavily based on the new add function in zrender https://github.com/ecomfe/zrender/blob/next/src/tool/morphPath.ts
An example of the transition between map, bar, bubble and pie(These are all implemented by custom series.)

The transition between hexagon and circle in hexbin example.

The transition between different SVG paths.

Usage
Are there any API changes?
We add a boolean property called morph in the returned element option in renderItem. With it enabled, the shape will be morphed from the previous shape smoothly when the type is changed.
For example:
// Render as rectangle at first time.
renderItem(params, api) {
  return {
     type: 'rect'
     ....
   }
}
// Change to a circle.
renderItem(params, api) {
  return {
     type: 'circle',
     // Enable morphing from the previous rectangle.
     morph: true
     ....
   }
}",2,2
13282,2020-09-15T03:21:31Z,,2020-10-15T10:07:49Z,2,90,4,pr12637 move to next branch,2,1
13283,2020-09-15T06:20:51Z,2020-09-16T08:59:05Z,2020-09-16T08:59:05Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Don't use hoverLayerThreshold in worker
Fixed issues

See #13164
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,4
13304,2020-09-18T05:45:24Z,2020-10-23T09:42:41Z,2020-10-23T09:42:41Z,40,1564,259,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Support decal in ECharts, see #13263 for more details.
Fixed issues

#13263

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,3
13314,2020-09-20T04:38:57Z,2020-09-21T02:59:05Z,2020-09-21T02:59:05Z,21,679,470,"This pull request include two improvements to line series.

Reduce initial render time(and memory cost) up to 10x in the line series with millions of time series data.
Improve smooth result in some cases.

Details about performance improvement.
1. Use TypedArray.
The most important thing did to improve the performance is to use TypedArray instead of normal array as much as possible. It will reduce the heap memory and GC cost significantly.
In this PR we use TypedArray to store the points of polyline and polygons. Also no setItemLayout anymore.
2. Bake the transform of dataToPoint to matrix in Cartesian2D
It will simplify the transform to a very fast 6x2 multiply and add operations. But it only works for affine transform when axis type is time or value. So it's mainly for boosting the time series data.
3. Remove unnecessary date parsing when it's a timestamp.
It can avoid creating millions of temporary Date object when parsing the time series data.
5. Speed up storage access in List component.
It's a trick did for modern JS engine. I found the access of storage is slow when initializing millions of data in https://github.com/apache/incubator-echarts/blob/99ab1d7a2f1413ce38dd55d3808c4e434fe49ba8/src/data/List.ts#L628
I profiled it and saw KeyedLoadIC_Megamorphic in the profiling result, which means it's not a fast property access.
So we simplify the case to the following code.
const obj = {};
obj.x = 1;
obj.y = 1;
function slowObjectAccess() {
    let sum = 0;
    for (let i = 0; i < 1e6; i++) {
        for (let k = 0; k < 2; k++) {
            const val = obj[k === 0 ? 'x' : 'y'];
            sum += val;
        }
    }
    return sum;
}

function fastObjectAccess() {
    let sum = 0;
    for (let i = 0; i < 1e6; i++) {
        for (let k = 0; k < 2; k++) {
            sum += k === 0 ? obj.x : obj.y;
        }
    }
    return sum;
}
And the test result shows fastObjectAccesscan be 10x faster than slowObjectAccess. I can't find out why and how to avoid it because my limited knowledge of JS engine.  So I add an extra _storageArr array and get from this array in the hotspot code like List#_initDataFromProvider. It works well and the cost of _initDataFromProvider  reduced to half.
Performance Result
Render time comparison between 4.x and 5.0

Heap memory comparison between 4.x and 5.0

Details about smooth improvement.
The original smooth algorithm will constraint the control points to the global bounding box. Which may lead to two issues as shown in the following picture.

So in this PR I did two changes.

Constraint the control points to the bounding box of two points locally.
Recalculate the previous control point after current control point is changed.

And the result after change.

Fixed issues
#12249
#10200
#4556",3,15
13317,2020-09-21T10:05:20Z,2020-09-24T07:15:15Z,2020-09-24T07:15:15Z,6,285,3,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Support largest-triangle-three-buckets sampling algorithm.
Fixed issues

#9403
Usage
Are there any API changes?

 The API has been changed.


sampling: 'lttb'
Related test cases or examples to use the new APIs
{
  type: 'line',
  sampling: 'lttb',
  data: data
}

See test/line-large.html line 101.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
In master branch it works, see #13312.
But in next branch, because of #12997 , samplers doesn't run in some cases.
And when it run, there is a point highlight bug, I think it's better to fix those bugs in other pr.",2,4
13337,2020-09-24T03:46:34Z,2020-09-24T07:15:06Z,2020-09-24T07:15:06Z,8,324,19,"This pull request is forked from the PR #13317 by @SnailSword and did some modifications. Includes:

Fix params.start and params.end in the task is not the number after downsampled when using downsample without dataZoom. This leads to downsample not having any performance improvement.
Improve the performance of LTTB downsample, remove unnecessary temporary array creation in the original getPair internal method.
Fix bugs in some edge cases of LTTB downsample like NaN data handling.
Add performance and result comparison in the test case.
Fix wrong tooltip after downsampled

Here is a screenshot of the test case. All the code of cases has been JIT warmed up before run. To make sure the result is more consistent.",3,2
13339,2020-09-24T07:46:58Z,2020-09-25T11:27:30Z,2020-09-25T11:27:30Z,5,249,306,"This pull request is about to remove chunks in List. It makes the storage structure much flatter. And brings less and more maintainable code and faster access to storage.
We fiirst brought chunk into echarts is for reducing the possibility of clone storage in  appendData.  But we found the extra cost to access by chunk is much more than the cost it saved from cloning TypedArray. So we decide to remove it.
The following screenshot can demonstrate the performance improvement:
Before & After",2,2
13358,2020-09-28T06:37:29Z,,2020-10-21T13:22:15Z,31,3594,652,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
feature: custom series support transition: ['shape', 'style', 'extra']
feature: custom series shape morphing storytelling

Support custom series morphing with split/merge effect.
Add setOption API to indication how to map old data and new data and perform transition animation.

setOption(option, { 
    transition: {
        from: { seriesIndex: 0, dimension: 'SOME_A' },
        to: { seriesIndex: 0, dimension: 'SOME_B' }
    } 
    // Then the old data dimension SOME_A will be mapped to new data dimension SOME_B,
    // and the transition animation will happen.
    // If there is ""many-to-one"" or ""one-to-many"" mappping, relative transition animation will happen.
});

enhance: data transform enhancement


Clarify the rule of when need to return a new dimension definition in a transform.
If the dimension changed, a transform need to return a new dimension definition.
Otherwise, do not need to return it. echarts will inherit dimension from the upstream.


Try to freeze the raw data exposed to data transform.
If a third-party transform modify the raw data of its upstream, it will bring about uncertain unexpected behavior if multiple transform are combined.
This PR resolve it by call Object.freeze to freeze the raw data if possible.


Clarify the API method name and behavior of data transform.
.


fix: underlying schedule framework bug
When setOption at the second time and change data, there is a bug in dispose task instance.
Show cases
test/est/custom-shape-morphing2.html",2,3
13369,2020-09-29T10:28:11Z,2020-09-30T04:00:28Z,2020-09-30T04:00:28Z,1,12,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Enable LGTM security analysis.


Fixed issues

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13372,2020-09-29T16:57:40Z,2020-10-10T03:47:58Z,2020-10-10T03:47:58Z,3,224,9,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
fix bug of overriding the button title of the tool box
currently, if we change the title of the magic-type button in the toolbox, it works as expected
however, if we click the button for stack view, all magic type buttons' titles revert to the default
Fixed issues

#12979

Details
Before: What was the problem?
to check this one, we need to do sth like this
toolbox: {
               ......
                magicType: {
                    show: true,
                    type: ['line', 'bar', 'stack'],
                    title: {
                        line: 'line view',
                        bar: 'bar view',
                        stack: 'stack view',
                        tiled: 'tiled view',
                    },
                },
             ......
}      
as stack and tiled are sth like a pair, we need to set the title for the tiled
but it only works if we never click the stack button,
once we click the button for stack, all titles revert to the the default chinese ones

After: How is it fixed in this PR?
the old code use title from ecModel as the base to override the new title
however, this disable the ability to override the title by users
In this PR, I change the logic to flip the title of stack and tiled when we click, and use model.option to get the title dynamically
newTitle = zrUtil.merge({
                stack: model.option.title.tiled,
                tiled: model.option.title.stack
            }, model.option.title)
and now it works as expected(tested on my local machine)

Usage
Are there any API changes?

 The API has been changed.

Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
as I didn't find an existing test file for this, and I'm not familiar with the test structure of new echarts,
I didn't submit a independent test file for this,
but I do think the changes in this PR won't bother the main logic and will not decrease code coverage.
thx to  @pissang & @Ovilia
just pushed the visual test action file in the latest commit",2,2
13382,2020-10-02T07:16:29Z,2020-10-19T13:42:30Z,2020-10-19T13:42:30Z,1,3,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix #12778
See the original issue #12778 and the original pull request #12781 for more details.
Fixed issues

#12778

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Please refer to the provided option in issue #12778
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,2
13383,2020-10-02T09:16:30Z,2020-10-09T05:57:45Z,2020-10-09T05:57:45Z,5,115,18,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?


Allow users to add some classes to the tooltip dom to override default styles and get the dom by document.getElementsByClassName.
Migrate changes in PR #12834 (relocate tooltip if chart resized)

Fixed issues
NA.
Details
Before: What was the problem?


The users cannot set some styles by className.
After: How is it fixed in this PR?

The users can override some styles by specifying className.



Usage
Are there any API changes?

 The API has been changed.


Add a new option className to tooltip component. See apache/echarts-doc@f8843c9
Related test cases or examples to use the new APIs
Please refer to test/tooltip-windowResize.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13390,2020-10-05T17:34:02Z,2020-10-06T03:39:13Z,2020-10-06T03:39:13Z,2,24,3,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Sunburst series supports corner radius in ECharts, please refer to #13123 & #13378 for more details.
Fixed issues

#13123 (partial)

Details

Usage
Are there any API changes?

 The API has been changed.


Added a new option to the sunburst series.

cornerRadius (can be a string/number/string array/number array)

Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
#13378 - Pie series supports cornerRadius
fe0d94a - Treemap series supports borderRadius",3,7
13398,2020-10-08T05:30:53Z,2020-10-13T03:02:08Z,2020-10-13T03:02:08Z,1,60,51,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

(1) [fix] transform may not be working in IE. (add vendor prefixes)
(2) [feat] disable transition after a long-time hide
(3) [feat] use opacity to fade out but not hide directly and add opacity transition
(3) reduce unnecessary imports.
I've made these changes to the new tooltip according to some personal ideas, please feel free to leave your comment.
Thank you!
Fixed issues
N/A.
Details
Before: What was the problem?




After: How is it fixed in this PR?




Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
please refer to test/new-tooltip.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,3
13416,2020-10-10T04:41:44Z,2020-10-17T06:54:08Z,2020-10-17T06:54:08Z,15,2583,186,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

modify some default values
support svg pointer
add distance to axisLine and splitLine
add anchor to gauge.series
add progress to gauge.series
add title and detail to series.data[i]
fix the color of text in dark mode


Fixed issues
【design】 #13216

Details
modify some default values

changes




configuration
before
after




axisLine.lineStyle.color
[[0.2, '#91c7ae'], [0.8, '#63869e'], [1, '#c23531']]
[[1, '#E6EBF8']]


axisLine.lineStyle.width
30
10


axisLine.roundCap
-
false


splitLine.length
30
10


splitLine.lineStyle.color
'#eee'
'#63677A'


splitLine.lineStyle.width
2
3


axisTick.length
8
6


axisTick.lineStyle.color
'#eee'
'#63677A'


axisLabel.distance
5
15


axisLabel.color
'auto'
'#46464'


axisLabel.fontSize
-
12


pointer.icon
-
null/svg/img/rect/...


pointer.offsetCenter
-
[0,0]


poinet.length
'80%'
'60%'


pointer.width
8
6


poiner.keepAspect
-
false


title.color
'#333'
'#464646'


title.offserCenter
[0, '-40%']
[0, '20%']


title.fontSzie
15
16


detail.color
'auto'
'#464646'


detail.fontWeight
-
'bold'


detail.lineHeight
-
30




Example(default values)


NOTE
if some configurations of the chart need to use default(auto) color, we should set xxx.color: 'auto'
support svg pointer

configuration




configuration
values
default
usage




pointer.icon
null/svg/img/rect/...
null
pointer: {icon: 'path://xxxxx'}




Example(svg path)


add distance to axisTick and splitLine

configuration




configuration
values
default
usage




axisTick.distance
number
10
axisTick: {distance: 20}


splitLine.distance
number
10
splitLine: {distance: 20}




example


add anchor to gauge.series

configuration




configuration
values
default
usage




anchor.show
boolean
false
-


anchor.showAbove
boolean
false
-


anchor.size
number
6
-


anchor.icon
string
'circle'
-


anchor.offsetCenter
array
[0,0]
-


anchor.keepAspect
boolean
false
-


anchor.itemStyle
object
{color: '#fff', borderWidth: 0, borderColor: '#5470c6'}
-




example


add progress to gauge.series

configuration




configuration
values
default
usage




progress.show
boolean
false
-


progress.overlap
boolean
true
-


progress.width
number
10
-


progress.roundCap
boolean
false
-


progress.clip
boolean
true
-




example(overlap: false, roundCap: true)


add title and detail to series.data[i]

configuration




configuration
values
default
usage




series[i].data[i].title
same as series[i].title
same as series[i].title
same as series[i].title


series[i].data[i].detail
same as series[i].detail
same as series[i].detail
same as series[i].detail




example


fix the color of text in dark mode

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
How to get back to the previous default styles

option

    option = {
                tooltip: {
                    formatter: '{a} <br/>{b} : {c}%'
                },
                toolbox: {
                    feature: {
                        restore: {},
                        saveAsImage: {}
                    }
                },
                series: [
                    {
                        name: '业务指标',
                        type: 'gauge',
                        axisLine: {
                            lineStyle: {
                                width: 30,
                                color: [[0.2, '#91c7ae'], [0.8, '#63869e'], [1, '#c23531']]
                            }
                        },
                        pointer: {
                            itemStyle: {
                                color: 'auto'
                            }
                        },
                        axisTick: {
                            distance: -30,
                            lineStyle: {
                                color: '#fff'
                            }
                        },
                        splitLine: {
                            length: 30,
                            distance: -30,
                            lineStyle: {
                                color: '#fff',
                                width: 2
                            }
                        },
                        axisLabel: {
                            color: 'auto',
                            distance: 35,
                            fontSize: 20
                        },
                        detail: {
                            formatter: '{value}%',
                            color: 'auto'
                        },
                        data: [{value: 50, name: '完成率'}]
                    }
                ]
            };


result",3,3
13432,2020-10-14T06:16:47Z,2020-10-14T07:36:16Z,2020-10-14T07:36:17Z,2,13,5,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix #13424, add absolute position to echarts bmap container.
Fixed issues

#13424

Details
Before: What was the problem?



After: How is it fixed in this PR?



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Please refer to this demo https://codepen.io/plainheart/pen/ZEbdRdr
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,3
13437,2020-10-15T14:03:18Z,2021-04-25T07:52:13Z,2021-04-25T07:52:13Z,2,10,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

The event magictypechanged should return currentType with tiled when the chart is not in stack mode.
Fixed issues

#12359

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Please refer to test/toolbox-stack-custom.html, click the first chart, and notice at the output in the console
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,4
13438,2020-10-15T16:50:10Z,2020-10-16T06:33:53Z,2020-10-16T06:33:53Z,55,2290,2364,"Change unit test: js -> ts
Change unit test code follow 5.0 modification.
Some bug fix and type fix detected by unit test.
Migrate echarts.??.ts files to src/.
Enable eslint in unit test and sort eslintrc.",2,2
13469,2020-10-21T13:30:20Z,2020-10-26T03:22:30Z,2020-10-26T03:22:30Z,5,102,9,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Allows Tooltip to be set with array of DOM Nodes instead of HTML string.
Fixed issues

#13250

Details
Before: What was the problem?
When the tooltip is set, you could only pass static HTML content. I am developing an Angular app. Angular – like other web frameworks (e.g Vue, React) – has its own template mechanism to generate DOM nodes and retain control over their contents, to update them dynamically. However, I could not leverage my framework inside echarts tooltip.
After: How is it fixed in this PR?
A non-framework approach is shown in the test file tooltip-domnode.html. That tooltip shows the continuously updating current date.
In my Angular project. I can return this.viewContainerRef.createEmbeddedView(template, context).rootNodes from the EChartOption.Tooltip.Formatter and my tooltip content will be updated in Angular's lifecycle mechanism.
Usage
Are there any API changes?

 The API has been changed.

Previously this was the Formatter interface in Typescript:
interface Formatter {
    (params: Format | Format[], ticket: string, callback: (ticket: string, html: string) => void): string;
}
Now it is this:
interface Formatter {
    (params: Format | Format[], ticket: string, callback: (ticket: string, htmlOrDomNodes: string | any[]) => void): string | any[];
}
Related test cases or examples to use the new APIs

tooltip-domnode.html

Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13470,2020-10-21T16:13:14Z,2020-10-22T03:32:17Z,2020-10-22T03:32:17Z,1,142,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Support Japanese.
Fixed issues

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
The terms were chosen with reference to the original Chinese and English translations file, and all Japanese terms have been subjected to detailed academic research, so there should be no problem.
参考了中文原文和英语翻译的基础上选择的术语，且所有日语术语皆经过了详细的学术调研，应该没什么问题。",3,3
13475,2020-10-22T09:00:39Z,,2020-10-23T08:27:54Z,1,244,35,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
The histogram supports intra group sorting and includes stacking states
Fixed issues

Details
Before: What was the problem?
The current histogram is only drawn according to the data order, which can not realize the ascending or descending order of multiple groups of data
After: How is it fixed in this PR?
By passing the groupOrder parameter with the same usage as the stack parameter, the intra group ascending and descending order can be realized to help users better analyze the data
Usage
Are there any API changes?
When there are multiple sets of series, the grouporder parameter is passed. For example, series [0]. groupOrder ='asc 'or' desc '. The default value is ‘auto’

[] The API has been changed.


Related test cases or examples to use the new APIs
series: [
{
name: 'Forest',
type: 'bar',
barGap: 0,
label: labelOption,
groupOrder：‘asc’,
data: [320, 332, 301, 334, 390]
},
{
name: 'Steppe',
type: 'bar',
label: labelOption,
groupOrder：‘asc’,
data: [220, 182, 191, 234, 290]
}
]
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13482,2020-10-26T00:12:11Z,,2020-10-26T22:07:24Z,19,161,1012,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Adds a new feature to adjust tooltip radius, height, and width.
Fixed issues

#13413

Details
Before: What was the problem?

There should be a configuration option for the tooltip marker size.

After: How is it fixed in this PR?

radius: ""10px"",
height: ""10px"",
width: ""10px""

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13490,2020-10-27T05:40:41Z,2020-10-28T12:15:26Z,2020-10-28T12:15:26Z,3,23,8,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

This PR makes it possible to disable decal with itemStyle.decal: 'none'.
Fixed issues

Details
Before: What was the problem?
Previously, there is no way to disable a certain series or data item with decal, if the aria decal is enabled.
After: How is it fixed in this PR?
This PR makes it possible to disable decal with itemStyle.decal: 'none'.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
test/decal.html.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13501,2020-10-28T08:06:28Z,2020-10-28T11:37:47Z,2020-10-28T11:37:47Z,1,1,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Don't bolder when the line width in the normal state is 0.
Fixed issues
N/A.
Details
If users specify the line width in the normal state as 0, the bolder logic should be skipped.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
See test/line-boldWhenHover.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,5
13507,2020-10-29T04:02:27Z,2020-10-29T05:21:36Z,2020-10-29T05:21:36Z,7,39,31,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others


DataZoom do not display in 'test/axis-style.html'.
Time scale locale params incorrect.",2,2
13521,2020-11-01T09:51:33Z,2020-11-02T05:17:18Z,2020-11-02T05:17:18Z,21,710,148,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

Support decal in custom series:
API:
renderItem(param, api) {
    // get decal from palette (by series)
    var decal = api.visual('decal');

    return {
        type: 'rect',
        style: {
            // specify decal.
            decal: decal
        }
    }
}
Fix decal implementations

Move option.decals to option.aria.decal.decals.
Fix that when theme or globalDefault specifying decals or aria, it should not effect that whether the aria is enabled.
Remove the support of setting series[i].decals. Only support setting decals in the root option.
Remove getDecalFromPalette from class SeriesModel. Instead, make getDecalFromPalette as a tool method.
Fix that merge DecalObject to style.merge (in PatternObject).
Remove enableAriaDecal from class SankeySeries and use the default decal support for sunkey series, which supports itemStyle.decal.
Remove ['decal'] from style mapper. (itemStyle.decal and style.decal are in different type, should not be assign directly).

test case:
test/decal.html",2,2
13522,2020-11-01T17:30:54Z,2020-11-02T05:16:42Z,2020-11-02T05:16:42Z,3,94,87,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

ts: remove @ts-nocheck in some of the files in treemap.
fix: done/aborted in treemap.

The bug case is: when click treemap to ""drill down"", and hover another rect to start state-changeing-animation before the drill down animation finished, some of the done/abort callback may not be called and then all of the ""click"" disabled (by the implementation of src/util/animation.ts.


fix: Make util/graphic updateProps and initProps param cb listen ""aborted"".
Because, at present, all of the cb usage are about ""remove el"", which are needed in both ""done"" and ""aborted"".
Currently the usage of cb:

initProps:

ParallelView
SankeyView
ThemeRiverView


updateProps:

TreeView
custom",2,2
13523,2020-11-02T02:17:23Z,2020-11-02T03:19:20Z,2020-11-02T03:19:20Z,10,35,71,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Resolves #13519, fixes the deprecated usage in theme files.
Fixed issues

#13519

Details
Before: What was the problem?


Some theme files are still using old-fashion usage.
After: How is it fixed in this PR?


Corrected the old-fashion usage.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13558,2020-11-06T11:20:31Z,2020-11-06T12:30:04Z,2020-11-06T12:30:04Z,3,59,6,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Support symbol as array in decal.
Fixed issues

Details
Before: What was the problem?
symbol can only be string.
After: How is it fixed in this PR?
symbol can be string | string[] | string[][] so that different symbol type can be used for different rows and columns.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
test/decal.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13561,2020-11-07T04:58:08Z,2020-11-07T16:13:25Z,2020-11-07T16:13:25Z,1,12,0,"fix: lazyMode should wake zrender up, otherwise will be nothing rendered

Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others",2,2
13563,2020-11-08T01:28:06Z,2020-11-08T05:54:17Z,2020-11-08T05:54:17Z,91,439,242,"Brief Information
This pull request is about adding dts bundle in the npm distribution.
What does this PR do?
Generate a clean DTS bundle
It will generate a dts bundle types/dist/echarts.d.ts with rollup-plugin-dts plugin. And the default type entry will be changed to this file. This bundle can also be used in https://github.com/apache/incubator-echarts-examples for type checking
This change will simplify the types exposed to developers. To avoid inner module having errors when ts version is not compatible.  Like issue #13541
To make sure no more inner module like ComponentModel, ComponentView, Grid will be exposed. This PR also made some changes to the type structure.
Test generated DTS bundle
This PR includes a test case for testing the compatibility of different ts versions. It will test ts versions from 3.4 to the latest( which is 4.0 at the moment this PR is created. Which means the lowest ts version our dts supported is 3.4.
Test command:
npm run test:dts
Fix some type issue in other ts versions",2,2
13568,2020-11-08T16:24:11Z,2020-11-09T04:51:37Z,2020-11-09T04:51:37Z,2,25,15,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

Test case:
test/scatter-markline.html
PENDING
markLine: {
    label: {
        position: 'left'
    }
}
is an invalid value, but exists in this historical file (test/timeline-layout.html),
while will be ignored before v5.0 .
But since v5.0, position: 'left' will cause incorrect result.
Should we compat it?",2,2
13569,2020-11-08T16:58:11Z,2020-11-09T04:51:50Z,2020-11-09T04:51:51Z,2,51,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others",2,2
13570,2020-11-08T19:15:13Z,2020-11-09T11:19:14Z,2020-11-09T11:19:14Z,6,119,101,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others




tooltip should support useUTC by default.
Make the param useUTC/isUTC mandatory rather than optional, which enables to check where useUTC is omitted. Theoretically, the result without useUTC can not substitute the result with useUTC.
Change the order of the param isUTC and lang of time.format because isUTC is used more.
Comment incorrect implementation of tooltip.formatter: pattern on time axis temporarily. Because it should ensure:

useUTC is not forgotten to be set as true or false. The result based on useUTC are totally different, which should not be omitted.
Should not break the original funtion: tooltip.formatter: '{a0} {a1}'
Consider series.encode: {x: 2}, that is, param.data[2] is time axis value.



Test case: test/timeZome.html",2,2
13580,2020-11-09T16:00:41Z,2020-11-10T08:00:52Z,2020-11-10T08:00:52Z,1,1,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fixed issues
Close #13560
Details
Before: What was the problem?
tree didn't drawn when symbol  was none
After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13593,2020-11-10T11:32:29Z,,2021-04-20T09:34:16Z,3,104,3,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Validate dim whether it's existed in  _dimensionInfos 
Fixed issues
Close #13571
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,1
13629,2020-11-16T18:18:45Z,2020-11-17T14:52:51Z,2020-11-17T14:52:51Z,4,8,8,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Resolves #13628
Fixed issues

#13628

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,2
13638,2020-11-17T19:07:30Z,2021-03-30T05:31:13Z,2021-03-30T05:31:13Z,3,149,25,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Discards data-points that were erroneously added to the chart during the lines animation.
Fixed issues

#10228
#11633
#12164
#12433

There are multiple issues currently open about this problem and they might all be related.
Details
Add a test to easily reproduce the bug where points are erroneously added to the chart during the lines animation and make a naive attempt at fixing it.
Before: What was the problem?

This bug happens during line-animations and it makes the chart display some invalid data-points after the animation is complete.
These erroneous data-points seem to be transient and they seem to go away after some interactions with the chart (e.g.: by manually changing the data-zoom).

This is a screenshot of the bug from the added test case (there are only two points in the series so there should only be one segment):

Reproduction link: https://jsfiddle.net/8kv71j0w/7/ (also see added test case in test/lines-extraneous.html).
After: How is it fixed in this PR?
Due to some items in the old series having been filtered out (e.g.: by the data-zoom component), the rawIndex of the removed items is different than the index. Therefore, this condition evaluates to true which results in this particular code path being executed. This in turn has the effect of keeping these removed points in the line during (and after) the animation.

The naive fix as part of this pull-request was to remove that code-block all together.
Warning: I don't have enough context to understand the full-implications of this change and it's very likely that this is not a good fix for this problem.
The main reason for opening this pull-request was to start a discussion and get some feedback from the developers about what would a proper fix look like.

That being said, this proposed change does seem to produce the expected result in the attached test case:

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
See test case in: test/lines-extraneous.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
See the linked issues for more details about other instances where this bug happens.",3,5
13648,2020-11-19T11:51:18Z,2020-11-19T15:59:13Z,2020-11-19T15:59:13Z,16,1542,272,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

Enhance the ad hoc implementation of ""aggregation transformer"" in test/lib for test cases and examples.

Migrate to ts.
Support average, Q1, median, Q3, min, max.",2,2
13732,2020-12-01T10:56:39Z,2020-12-18T10:18:53Z,2020-12-18T10:18:53Z,2,116,11,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

1) fix charts cannot be exported when using SVG renderer in IE.
2) fix exported SVG file cannot be opened when using external images.
See #13655
After this fix, exporting SVG file can even be supported in IE 9.
Fixed issues

#13655

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Please refer to test/ie-svg-export.html.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
Related PR in zrender ecomfe/zrender#673",3,6
13733,2020-12-02T06:57:39Z,2020-12-10T09:23:04Z,2020-12-10T09:23:04Z,3,74,6,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

When a sorted category axis max is greater than data length (which sometimes happens for bar race charts), the axis label has error so the chart cannot be rendered.
Fixed issues

Details
Before: What was the problem?
With the third test case of test/bar-race.html, it gets error and cannot render the chart.

After: How is it fixed in this PR?
No error.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
test/bar-race.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13771,2020-12-07T04:24:57Z,2020-12-14T03:33:28Z,2020-12-14T03:33:28Z,3,45,7,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
User borderColor has highest priority.
Fixed issues
Close #13770
Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13788,2020-12-10T08:22:57Z,2021-07-20T05:16:59Z,2021-07-20T05:16:59Z,17,411,46,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Provide an option for users to use color palette on each data items of the same series.
Fixed issues

#13731

Details
Before: What was the problem?
Series like bar charts use the color palette to distinguish different series. But there is no easy way to use the palette for each data item except than setting itemStyle.color for each data item, which is quite tedious.
After: How is it fixed in this PR?
Series can set colorBy to be 'item' to use the color palette for each data item, which by default is 'seriesId' or other values depending on series type.
Usage
Are there any API changes?

 The API has been changed.

option.colorBy and option.series.colorBy are provided, whose values can be: 'series' | 'data'.
Related test cases or examples to use the new APIs
test/colorBy.html
With
option = {
    xAxis: {
        type: 'category',
        data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
    },
    yAxis: {
        type: 'value'
    },
    series: [{
        data: [120, 200, 150, 80, 70, 110, 130],
        type: 'bar',
        colorBy: 'data'
    }]
};
Before:

After:

Others
Merging options

 Please squash the commits into a single one when merge.

Other information
Todo:

 Provide series.colorBy for each series type
 Deprecate colorMappingBy and use colorBy to compat
 Enable sunburst using different color palette policies like using the palette for each level or each data item

This PR does not change the behavior of treemap or sunburst series but only the other series.
Treemap and sunburst behavior on color mapping should be discussed and implemented in future PRs.",4,10
13792,2020-12-10T13:47:15Z,2020-12-11T05:59:22Z,2020-12-11T05:59:22Z,13,541,33,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others


fix: when label animation is not finished, start a new label animation, the label should not jump the the last final value.
fix: label formatter string should be able to use {@DimName} and {@[dimIndex]} to reference interpolated value.
fix: fix that category value become undefined when init animation when valueAnimation: true.
fix: fix formatter not work when valueAnimation: true.",2,2
13829,2020-12-16T09:43:48Z,,2020-12-17T07:56:05Z,3,939,12,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
The histogram supports intra group sorting and includes stacking states
Fixed issues

#12886

Details
Before: What was the problem?
The current histogram is only drawn according to the data order, which can not realize the ascending or descending order of multiple groups of data
After: How is it fixed in this PR?
By passing the groupOrder parameter with the same usage as the stack parameter, the intra group ascending and descending order can be realized to help users better analyze the data
Usage
Are there any API changes?
When there are multiple sets of series, the grouporder parameter is passed. For example, series [0]. groupOrder ='asc 'or' desc '. The default value is ‘auto’

 The API has been changed.


Related test cases or examples to use the new APIs
  series: [
        {
            name: 'Forest',
            type: 'bar',
            barGap: 0,
            label: labelOption,
            groupOrder：‘asc’,
            data: [320, 332, 301, 334, 390]
        },
        {
            name: 'Steppe',
            type: 'bar',
            label: labelOption,
            groupOrder：‘asc’,
            data: [220, 182, 191, 234, 290]
        }
    ]
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",1,1
13848,2020-12-20T09:23:02Z,2021-01-08T03:34:15Z,2021-01-08T03:34:15Z,4,118,37,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix tooltip.textStyle.color not working
Fixed issues
Close #13797
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
tooltip name and value can be configured separately. More textStyle support",4,5
13863,2020-12-23T01:24:11Z,2020-12-23T02:42:54Z,2020-12-23T02:42:54Z,2,16,5,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

To update keywords, description, homepage information, and add bugs field in package.json.
Fixed issues

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13885,2020-12-28T04:32:26Z,2020-12-28T05:47:21Z,2020-12-28T05:47:21Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix a typo
Fixed issues

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13890,2020-12-28T08:49:13Z,2021-01-03T15:20:37Z,2021-01-03T15:20:37Z,402,11694,9559,"Brief Information
This pull request is about refactoring of exports so developers can have better API to get minimal imports.
Also, in this PR ts is upgraded to 4.1  to make sure exported types won't have problems in the higher ts version.
Related ZRender PR: ecomfe/zrender#685
Fixed issues
#13764
#13755
#13763
#13850
#13701
#13804
Details
Before: What was the problem?
We kept providing CommonJS modules in the earlier version because we want to make sure echarts can be compatible with environments as more as possible, like old Webpack and NodeJS.
So after rewriting our code with TypeScript. We still export two kinds of modules, CommonJS and ESM. CommonJS modules are in the lib folder, which is the same as the previous version and mainly used in NodeJS.  ESM modules are in the esm folder, which will be used in the bundlers which target browser. This brings a serious issue, we were suggesting developers using the lib folder when import modules. Like import * as echarts from 'echarts/lib/echarts'. But now in most scenarios ESM module is much better because bundler can tree-shake it and get a smaller bundle. This contradiction leads us to not know how to deal with the compatibility when still providing a best practice.
Even worse, because codes of different extensions may both reference lib and esm. The bundle will have two namespaces. This leads to a much larger bundle size and bugs like registered components can not be found.
After: How is it fixed in this PR?
First of all, we remove CommonJS modules and export ESM format modules in the lib folder. Since very few bundlers don't support ESM module now. And for NodeJS we can provide the UMD format dist/echarts.js
Sencondly, we provide a higher level of exports for each components and each to avoid exposing our underlying folder structure and provide a use method to register the components
import {LineChart} from 'echarts/charts';
import {GridComponent} from 'echarts/components';
import {CanvasRenderer} from 'echarts/renderers';
import {use} from 'echarts/core';
// Must import at least one renderer, SVGRenderer or CanvasRenderer.
use([LineChart, GridComponent, CanvasRenderer]);
For TypeScript, we also provide a better type when using the new minimal imports.
import {LineChart, LineSeriesOption} from 'echarts/charts';
import {GridComponent, GridComponentOption} from 'echarts/components';
import {use, ComposeOption} from 'echarts/core';

use([LineChart, GridComponent]);

// A minimal types for option is useful for checking if any components are missing.
type ECOption = ComposeOption<LineSeriesOption | GridComponentOption>;
const option: ECOption = {};
Usage
Are there any API changes?

 The API has been changed.

Related test cases or examples to use the new APIs
Import the whole package.
Importing of whole package is not changed.
import * as echarts from 'echarts';
const option: echarts.EChartsOption = {};
On top of that, we expose more types for cases like #13755
import * as echarts from 'echarts';
const lineOption: echarts.LineSeriesOption = {};
Minimal import.
import * as echarts from 'echarts/core';
import { GridComponent, GridComponentOption } from 'echarts/components';
import { LineChart, LineSeriesOption } from 'echarts/charts';
import { CanvasRenderer } from 'echarts/renderers';

// Must import at least one renderer.
// If you only want to render with SVG, just replace the CanvasRenderer with SVGRenderer.
// So the CanvasRenderer won't be included in the final bundle.
echarts.use([GridComponent, LineChart, CanvasRenderer]);

// A minimal types for option is useful for checking if any components are missing.
type EChartsOption = echarts.ComposeOption<GridComponentOption | LineSeriesOption>;
var option: EChartsOption = {...};

// If you want the full option. 
import {EChartsOption} from 'echarts;
var option: EChartsOption = {...};
Then let the bundler do the tree-shaking and remove all unused components.
PS: We are working on generating tests of this minimal import in the https://github.com/apache/incubator-echarts-examples/tree/next. We will provide a new feature in the example page about generating a minimal import code based on the example option.
The legacy minimal import is still supported but not suggested.
// See https://github.com/apache/incubator-echarts/issues/13701
import * as echarts from 'echarts/lib/echarts';
import 'echarts/lib/chart/line';
import 'echarts/lib/component/grid';
This is still supported. You should use it only when tree-shaking can't work in the bundlers.
Internal changes
All very core modules have been moved into core dir. The original src/echarts.ts has been changed to only export necessary modules for compatible reasons.
So the old code
import * echarts from 'echarts/lib/echarts'
Can still work well to avoid issues like #13701
But for the new minimal import code. We can tree shake it as much as possible. For example, we can remove the CanvasRenderer if we only wan't to render with SVG now.
Other Changes
The dependencies in theme and i18n has been changed from echarts to echarts/lib/echarts to avoid bundling the whole package. ecomfe/vue-echarts#345 (comment)",4,4
13898,2020-12-29T09:05:47Z,2021-01-04T06:31:37Z,2021-01-04T06:31:37Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

If calling setOption with notMerge, there is no oldOrder so accessing oldOrder[i] get error. This PR fixes this problem.
Fixed issues

Details
Before: What was the problem?
Call setOption with realtimeSort and then call setOption with notMerge as true.
After: How is it fixed in this PR?
Checking oldOrder before accessing oldOrder[i].
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13901,2020-12-29T14:00:11Z,2021-01-04T04:37:09Z,2021-01-04T04:37:10Z,2,121,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

In #13894, one developer reported an issue that when the data is more than the progressive count, the heatmap can't be rendered and will throw some errors as shown below,

Fixed issues

#13894

Details
Before: What was the problem?


It seems that incrementalRender of HeatmapView is not supported by geo coordinate.
After: How is it fixed in this PR?


I'm not sure how to solve this yet. Just try to use the normal render but not incrementalRender when the coordinate system is geo.

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Please refer to test/heatmap-geo.html.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13902,2020-12-29T14:35:45Z,2021-03-30T10:40:50Z,2021-03-30T10:40:50Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
fix day label drifting
Fixed issues

#11508: Day label is drifting on the left when calendar range is getting smaller

Details
Before: What was the problem?

If orient is horizontal and range changes, the cell will automatically adjust its width.
But the weekly text margin always to be 50% width of cellSize.


After: How is it fixed in this PR?

I tried to fix it by making daylabel margin always be the cell's height .


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,3
13916,2020-12-31T06:40:32Z,2020-12-31T12:11:31Z,2020-12-31T12:11:32Z,2,13,11,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others",2,2
13930,2021-01-03T12:47:56Z,2021-01-03T14:53:49Z,2021-01-03T14:53:49Z,15,470,124,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
fix:

series data should not inherit its parents detected dimensions, because the detected dimensions might be based on different seriesLayoutBy.
data-transform should fill back the detected dimensions to this result data, so that the downstream series can use the data in seriesLayoutBy: 'row'.
fix #13915 (caused by 1)
fix some ts type.",2,2
13968,2021-01-07T09:11:05Z,2021-01-07T12:47:10Z,2021-01-07T12:47:11Z,8,85,58,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Enable gauge detail value animation again. (Broken by some previous commit)
Some restrict and clarify of the parameters of method getFormattedLabel:
Before:
js extendParams?: Partial<CallbackDataParams> 
After:
js extendParams?: { interpolatedValue: InterpolatableValue } 
Because:

this feature is only used in value animation case.
CallbackDataParam is only about the internal logic in one of the implementation of the interface getFormattedLabel.
The parameter of getFormattedLabel should not depends on some certain implementation.
There is other implementation of it, which need the parameter to have clear meaning.",2,2
13972,2021-01-07T11:21:14Z,2021-01-07T12:51:22Z,2021-01-07T12:51:22Z,2,66,16,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?


bugfix: the showLoading.fontSize with number type doesn't work  (#13892)


bugfix: showLoading align center (#13893)



show spinner and text
only show spinner
only show text


feature: showLoading support fontFamily/fontWeight/fontStyle


Fixed issues
#13892
#13893

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
13982,2021-01-08T03:40:34Z,2021-01-08T06:49:38Z,2021-01-08T06:49:38Z,14,92,75,"Major changes:
1. Expose non-self-register extend API for extensions.
So extensions like ECharts GL which provide multiple charts and components can also have the new minimal import API.
An example:
// In extension code.
class Scatter3DChartView extends echarts.ChartView {
  ....
}
class Scatter3DSeriesModel extends echarts.SeriesModel {
  ....
}

export function Scatter3DChart(registers) {
  registers.registerChartView(FooChartView);
}

// In users code
import {use} from 'echarts/core/';
import {Scatter3DChart} from 'echarts-gl/charts';
use([Scatter3DChart]);
2. Expose several helper methods for extension usage.

echarts.helper.createTextStyle
echarts.helper.enableHoverEmphasis

3. Mark as sideEffects in extensions.",2,2
13992,2021-01-08T08:55:03Z,2021-01-09T10:55:30Z,2021-01-09T10:55:30Z,1,2,2,"…or tooltip

Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Add  returnFirstMatch for tooltip
Fixed issues
Close #13971
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,5
13994,2021-01-09T08:39:06Z,2021-01-09T12:14:49Z,2021-01-09T12:14:49Z,14,982,210,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Clip:

if a bar element is totally clipped (marked as el.ignore: true), place the element at the edge of the coordinate system bounding rect with width/height 0. Because if data changed and the element show again, the transition animation of this element will start at this place.
Fix #13677.


Previously when base axis is x, the initial sort is different from the subsequent sort. Fixed it.
Remove the transition animation of the baseAxis init state to the first sorted state.
Fix that throw error when series data does not cover all axis category.
Fix some incorrect logic like:

BarView sortMap input param
OrdinalScale['scale']
OrdinalScale['getTicks']


Simplify and clarify the params sortInfo of action ""changeAxisOrder"".
// before:     
sortInfo: [         
    // `beforeSortIndex` is not easy to understand and not necessary.         
    { ordinalNumber: 2, beforeSortIndex: 4 },         
    { ordinalNumber: 5, beforeSortIndex: 5 },         
    { ordinalNumber: 3, beforeSortIndex: 0 },         
    { ordinalNumber: 4, beforeSortIndex: 2 },         
    { ordinalNumber: 0, beforeSortIndex: 3 },         
    { ordinalNumber: 1, beforeSortIndex: 1 },     
    ]     
    // after:     
sortInfo: {         
    ordinalNumbers: [2, 5, 3, 4, 0, 1]     
}     

some small refactor: naming, code organization, type. Add comments.",2,2
13998,2021-01-10T02:42:17Z,2021-01-10T04:28:12Z,2021-01-10T04:28:12Z,460,14805,10680,,10,3
14000,2021-01-10T08:26:57Z,2021-01-28T05:44:35Z,2021-01-28T05:44:35Z,2,12,7,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fixed issues
Close #13685
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
test/line-endLabel.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14010,2021-01-11T17:29:12Z,2021-01-12T04:01:40Z,2021-01-12T04:01:40Z,1,2,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
fix: add back the default tooltip textStyle settings. Without those settings, the tooltip text will follow the website settings if user specified tooltip.formatter, which is not expected.",2,2
14017,2021-01-12T07:49:50Z,2021-01-26T06:23:15Z,2021-01-26T06:23:15Z,3,70,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Add showLabelLine param for setLabelLineStyle to control labelLine should be drawn or removed.
Fixed issues
Close #13871
Details
Before: What was the problem?
After second  setOption. labelLine didn't hide when position is inside.
After: How is it fixed in this PR?
labelLine was hidden after second setOption
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
The last test case in pie-label.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14056,2021-01-15T13:08:37Z,2021-01-26T04:35:13Z,2021-01-26T04:35:13Z,1,5,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
path:// prefix is in wrong position
Fixed issues
Close #14014
Details
Before: What was the problem?
handleIcon was base64 might block render
After: How is it fixed in this PR?
Chart render successfully.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14108,2021-01-25T08:57:20Z,2021-01-25T10:10:35Z,2021-01-25T10:10:35Z,1,9,9,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

fix chart avoidLabelOverlap hides label even when there are lot's of free space.
Fixed issues


#13938: Pie chart avoidLabelOverlap hides label even when there are lot's of free space

Details
Before: What was the problem?

dx has the direction(1/-1) presentation, if dx < 0; then dx < rA always be true;
But if (-dx) > rA, there would be square root of negative number.
Math.sqrt(dy * dy / (1 - dx * dx / rA / rA))
rB will get NaN.


After: How is it fixed in this PR?

When comparing, dx => Math.abs(dx)


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,3
14124,2021-01-26T09:35:40Z,2021-01-28T03:37:36Z,2021-01-28T03:37:36Z,1,4,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Add geo component as a dependency of map series.
Fixed issues
#14066",2,2
14177,2021-02-01T12:19:56Z,2021-02-01T14:46:20Z,2021-02-01T14:46:20Z,3,25,100,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
dev-fast use esbuild watch mode
https://esbuild.github.io/api/#watch",2,5
14202,2021-02-03T15:01:04Z,,2021-03-27T14:32:57Z,2,7,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Label should have higher z index compare to line
Fixed issues
Close #14190
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
/test/markline.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,2
14214,2021-02-04T16:12:23Z,,2021-11-03T02:42:16Z,6,60,11,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Add back missing tooltip opotions
Fixed issues
Close #14211
Details
Before: What was the problem?


After: How is it fixed in this PR?
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
new-tooltip.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,5
14243,2021-02-08T07:25:35Z,2021-04-07T04:27:15Z,2021-04-07T04:27:15Z,4,26,11,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

visualMap[piecewise].itemSymbol took no effect.
Fixed issues

#5719: itemSymbol in the visualMap (piecewise) can't be set

Details
Before: What was the problem?
visualMap[piecewise].itemSymbol took no effect.
After: How is it fixed in this PR?
visualMap[piecewise].itemSymbol should be used as default symbol type when symbol is not defined in visualMap pieces.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs

test/visualMap-scatter-colorAndSymbol.html

Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14246,2021-02-08T09:07:55Z,2021-03-19T15:55:28Z,2021-03-19T15:55:29Z,3,153,73,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

As mentioned in #13680, the tooltip looks delayed and has an obvious lag. This brings the users a bad interaction experience.
This PR is attempting to improve the performance of the tooltip. Any idea is welcome.
Fixed issues

#13680
#14204

Details
Before: What was the problem?

The moving of the tooltip has an obvious lag.

After: How is it fixed in this PR?



  
    
    

    case.mp4
    
  

  

  


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Please refer to test/new-tooltip.html or any other test cases related to tooltip.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
Related PR in zrender: ecomfe/zrender#721",4,4
14254,2021-02-09T13:58:16Z,2021-03-22T11:34:42Z,2021-03-22T11:34:42Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

fix the color of series label  on custom series not following the color of  bars
Fixed issues


#14092: Series Label on Custom Series not working properly

Details
Before: What was the problem?

The color of series label  on custom series followed the last/hovered bar.


After: How is it fixed in this PR?
I read the comment below and code on v4.9.0 branch. But I'm not sure whether the fix meets requirement of comment below:

Element.ts
 outsideFill is a color string or left empty.
If a textContent is ""inside"", its final fill will be picked by this priority:
textContent.style.fill > textConfig.outsideFill > #000

txCfg.outsideFill always get 'auto' as default value , the color of series label should follow the  color of  bars.


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",4,2
14263,2021-02-11T22:35:01Z,2021-02-17T01:50:14Z,2021-02-17T01:50:14Z,1,5,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
adds the icon property to LegendComponentOption
Fixed issues
#14262
Details
Before: What was the problem?
couldn't add a strongly typed legend option object because the icon property didn't exist
After: How is it fixed in this PR?
add the type for it
Usage
Are there any API changes?

 The API has been changed.

Updates the TS types to be in line with the echarts docs https://echarts.apache.org/en/option.html#legend.icon
Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",6,2
14267,2021-02-12T20:36:41Z,2021-02-13T01:43:57Z,2021-02-13T01:43:57Z,1,24,24,"Fix wording, typos, making it idiomatic & uniform

Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Improve French translation.
Fixed issues

Details
Before: What was the problem?
Awkward wording in French, and non-uniform.


After: How is it fixed in this PR?
Rewording.


Usage
Are there any API changes?
No

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,7
14289,2021-02-19T02:43:27Z,2021-02-19T06:33:42Z,2021-02-19T06:33:42Z,2,11,3,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
For some unknown reason, vue-echarts#next will have Default export of the module has or is using private name error when generating declarations. It only happens when reexporting wrapped ECharts#getDataURL, ECharts#getConnectedDataURL, ECharts#dispatchAction methods to the vue component.
So in this PR, we export these necessary private types to avoid this issue:

echarts.Color
echarts.Payload
echarts.LinearGradientObject
echarts.RadialGradientObject
echarts.LinearGradientObject
echarts.SetOptionOpts",2,2
14314,2021-02-22T04:23:45Z,2021-02-23T02:52:41Z,2021-02-23T02:52:41Z,1,2,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

string is a valid type for markLine.data because time axis values can be string. This PR adds string to its type.
Fixed issues

#14300: MarkLine1DDataItemOption incorrectly defines xAxis as number

Details
Before: What was the problem?
Only number is supported for MarkLine1DDataItemOption.xAxis.
After: How is it fixed in this PR?
Set the type to be number | string.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14343,2021-02-25T03:34:19Z,2021-02-25T07:51:59Z,2021-02-25T07:51:59Z,1,13,16,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

fix markArea background color disappearing when markArea inclued selected area
Fixed issues


#13647: When you select a area in the same color markArea, you will find the markArea background color disappear.

Details
Before: What was the problem?

when selected area was included in markArea, then point would not meet condition that set allClipped to false.


After: How is it fixed in this PR?

add condition that check if rectangle of markArea intersects the rectangle of display area.


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,2
14353,2021-02-25T14:51:52Z,2021-02-26T08:08:03Z,2021-02-26T08:08:03Z,1,12,9,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Export component option's typescript union members separately to enable more explicit typed factory functions for config parts.
Details
Before: What was the problem?
Since 5.0.1 the PiecewiseVisualMapOption interface is no longer available, only the union VisualMapComponentOption.
That's why some of our utilities to build config parts cannot be typed correctly anymore.
// until version 5.0.0

import { PiecewiseVisualMapOption } from 'echarts/lib/component/visualMap/PiecewiseModel';

export function createCustomVisualMap(options: CustomOptions): PiecewiseVisualMapOption {
    const pieces: PiecewiseVisualMapOption['pieces'] = [];

    // build pieces...

    return {
        ...customConfig,
        pieces,
    };
}
// since version 5.0.1

import { VisualMapComponentOption } from 'echarts';

export function createCustomVisualMap(options: CustomOptions): VisualMapComponentOption {
    const pieces: VisualMapComponentOption['pieces'] = []; // <-- ERROR: pieces does not exist, because other union members does not have this property

    // build pieces...

    return {
        ...customConfig,
        pieces,
    };
}
After: How is it fixed in this PR?
With this new export it is possible again to access the PiecewiseVisualMapOption interface as PiecewiseVisualMapComponentOption (and therefore the pieces).
Usage
Are there any API changes?
It was already available in version 5.0.0 and disappeared in 5.0.1.",2,4
14357,2021-02-26T05:44:17Z,2021-03-30T03:26:36Z,2021-03-30T03:26:36Z,1,2,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Remove legacy usage of transform to avoid unnecessary warning.",3,2
14375,2021-03-01T16:20:16Z,2021-03-30T03:30:51Z,2021-03-30T03:30:51Z,12,143,43,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

1) fix: markLine symbolOffset doesn't work bug

Resolves #9325
Resolves #14106
Resolves #4771

2) feat: markLine.symbolRotate can be an array to specify symbol rotation at the two endpoints.

Related #12736, #12392, #12388

3) feat: add markLine.symbolKeepAspect and fix symbolKeepAspect doesn't work bug.
4) feat: symbolOffset can be a callback function

Resolves #12495

Fixed issues

#4771
#9325
#14106
#12495
#12392 (comment)

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Please refer to test/markLine-symbolRotate.html and test/symbol3.html.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14388,2021-03-03T09:12:21Z,2021-03-03T10:40:53Z,2021-03-03T10:40:53Z,1,3,2,"Brief Information
fix dataZoom textStyle not effect
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

fix dataZoom textStyle not effect
Fixed issues
#14285

Details
when set

Before: What was the problem?



After: How is it fixed in this PR?



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14393,2021-03-03T18:59:56Z,2021-07-15T06:33:07Z,2021-07-15T06:33:07Z,3,34,24,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Tooltip arrow will follow the specified borderWidth in tooltip.
Fixed issues
fixes: #14373
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Checkout test/scatter.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",5,14
14408,2021-03-05T01:36:52Z,2021-05-12T09:23:03Z,2021-05-12T09:23:03Z,2,104,10,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

The visibility of the customized toolbox button cannot be controlled by the show option.
Fixes #14405
Fixes #14618
Fixed issues

#14405
#14618

Details
Before: What was the problem?

The customized toolbox button is still visible when show is set to be false.


After: How is it fixed in this PR?



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Please refer to test/toolbox-custom.html.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14413,2021-03-06T08:51:31Z,2021-03-08T05:36:39Z,2021-03-08T05:36:39Z,2,76,3,"Brief Information
fix series data type judgment bug
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

fix series data type judgment bug, typeof null === ""object""
Fixed issues
#14293

Details
when set
Before: What was the problem?

when rawItem is null, get prop selected error


After: How is it fixed in this PR?



Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
test/line-non-continuous.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,2
14417,2021-03-07T14:59:59Z,2021-03-08T02:08:28Z,2021-03-08T02:08:28Z,2,11,4,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Set sankey label  z2 property.
Fixed issues
Close #14287
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
sankey-vertical.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",3,2
14468,2021-03-14T13:41:11Z,2021-03-15T02:50:00Z,2021-03-15T02:50:00Z,1,142,0,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Adds czech language for locale
Fixed issues

Details
Before: What was the problem?
czech language missing
After: How is it fixed in this PR?
added new language file
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.",3,3
14473,2021-03-15T08:24:47Z,2021-03-17T05:26:41Z,2021-03-17T05:26:41Z,13,781,122,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Details

Make component tooltip inherit cascade correct: itemOption.tooltip -> componentOption.tooltip -> globalOption.tooltip
(previous incorrect cascade: itemOption.tooltip -> globalOption.tooltip
Enable trigger component tooltip by

chart.dispatchAction({ 
    type: 'showTip', 
    toolboxIndex: 0, 
    name: 'someTootboxItemName' 
});
// or 
chart.dispatchAction({ 
    type: 'showTip', 
    legendId: 'legend_id', 
    name: 'someLegendItemName' 
});
To make (2) happen, this commit migrate ECElement['tooltip'] to ECData['tooltipConfig']['option'],
and add other info in ECData['tooltipConfig']:
interface ECData {
    // ...
    tooltipConfig?: {
        // Used to find component tooltip option, which is used as
        // the parent of tooltipConfig.option for cascading.
        // If not provided, do not use component as its parent.
        // (Set manatary to make developers not to forget them).
        componentMainType: ComponentMainType;
        componentIndex: number;
        // Target item name to locate tooltip.
        name: string;
        option: ComponentItemTooltipOption<unknown>;
    };
}
to locate a tooltipable component element by a payload.
Test case
test/tooltip-component.html",3,2
14497,2021-03-17T10:14:29Z,2021-04-07T04:24:52Z,2021-04-07T04:24:52Z,21,700,178,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Update default legend style so that the icons looks more intuitively like that of the series.
Fixed issues

Details
Before: What was the problem?

Legend for line series only have the color of the series, lacking itemStyle.borderWidth, itemStyle.borderColor, lineStyle.color, lineStyle.borderColor and etc.

After: How is it fixed in this PR?
Legend for line series looks more like that of the series.
emptyCircle has been changed to circle.

See test/legend-style.html for more info.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
test/legend-style.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
There was a PR #12444 before v5.0 and there was too much to be merged so I made this new PR based on v5.0 code base.",3,2
14542,2021-03-27T07:25:56Z,2021-04-07T08:35:02Z,2021-04-07T08:35:02Z,6,69,40,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix a bug that label is not on the top of line/area, which is affecting many cases of the label.
Fixed issues

#14541
#14287
#14417 (revert)
#14202 (tweak)

Details
Before: What was the problem?


After: How is it fixed in this PR?


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Please refer to

test/sankey-*.html
test/markline.html
The demos provided by #14541

Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14568,2021-03-31T08:24:44Z,2021-04-01T02:39:50Z,2021-04-01T02:39:50Z,22,615,332,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Enhances the error log when built-in components or series are missing.
Fixes some issues in unit tests.
Only initialize markPoint / markLine / markArea component when they are used in series

Limitations:

Missing of components in extension like echarts-gl still can't be checked.

Fixed issues
#14325
Details
Before: What was the problem?
There is no log when components are missing. It may cause other more obscure errors which make developers hard to find out what the problem is.
After: How is it fixed in this PR?
Add more detailed components or series missing log.


Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14569,2021-03-31T09:37:58Z,2021-04-25T10:48:36Z,2021-04-25T10:48:36Z,5,60,23,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
It should clamp range when brush, otherwise, range would larger than 1, because brushed area might exceed the last item.
Fixed issues
Close #14416
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
brush3.html
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,3
14571,2021-04-01T05:27:33Z,2021-04-07T03:42:29Z,2021-04-07T03:42:29Z,53,25319,974,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

Features:
Support use SVG as the map in both Geo component and series map.
fetch('../../vis-data/map/svg/geo-topo/Map_of_Iceland.svg').then(response => response.text()).then((svg) => {
    echarts.registerMap('Map_of_Iceland', {
        svg: svg
    });
    option = {
        tooltip: {
            alwaysShowContent: true,
            enterable: true,
            extraCssText: 'user-select: text'
        },
        geo: [{
            map: 'Map_of_Iceland',
            ...
        }]
    };
});    
Support tooltip on Geo component
Support label option on Geo component
Support to name some SVG tags to enable them to be configured in option regions.
<path name=""trip1""  ... />
Then this config enabled:
option = {
    geo: {
        tooltip: { show: true, ... },
        regions: [{
            name: 'trip1',
            itemStyle: { ... },
            label: { ... },
            tooltip: { ... }
        }]
    }
}
These SVG tags are available to be named:
'rect', 'circle', 'line', 'ellipse', 'polygon', 'polyline', 'path', 'text', 'tspan', 'g'
Once named:

All of the tags can trigger mouse event to users (like click, mouseover, ...).
That is, can be listened by
chart.on('click', { geoIndex: 0 }, function (params) {
    // ...
});

All of those tags support to trigger state change when

mouseover/mouseout
dispatchAction({ type: 'highlight'/'downplay', ... });


The path can change state style (normal/emphasis/select/blur) when hover or dispatchAction

Only 'rect', 'circle', 'line', 'ellipse', 'polygon', 'polyline', 'path' support state style.
text/tspan/image can not apply state style.


All of those tags support to trigger tooltip when

mouseover/mouseout
dispatchAction({ type: 'showTip', ... });


If multiple tags can have the same name:

They have the ""hover link"" effect. That is, if hovering on one element, all of the elements with the same name will be highlighted, and other elements in SVG can be blurred if emphasis.focus set.
They share one region option (style, label, tooltip, ...).
They display their labels respectively.


<g> can be named.

If <g name=""xxx"">, all of the descendants will apply the region options styles if possible.
But a single label/tooltip only displayed based on the center of this <g>.



Support focus-blur on Geo component.
geo: {
    emphasis: {
        // enable focus-blur feature.
        // only 'self' supported.
        focus: 'self' 
    }
}
Once focus-blur feature enabled, the ""blurScope"" is this Geo component. That is, the entire SVG
Note: in series-map, we do not support ""blur all of the SVG"" yet. There is a little implementation trouble. So do not support it until some requirement come.
geoSVG named tag support select:

follow echarts select option.
follow ""geoselectchanged"" event (on geo component) and selectchanged event (on series-map).
""geoselectchanged"" event: add param: allSelected: { geoIndex: number, name: string[] }[]

fix: [common focus-blur feature]
make API trigger emphasis blur correct (should leave blur firstly for other series).
fix: [common tooltip feature]
fix tooltip component default position: should apply position on option firstly.


Some implementation details:

refactor of geoJSON & SVG source loader and management.
label scale implementation change: user afterUpdate hook rather than divide parentScale.
Some refactor to Region: the original Region is migrated to GeoJSONRegion. And make Region as the base class of GeoJSONRegion and GeoSVGRegion. Modify the constructor of Geo.
Remove Geo['_nameCoordMap'], instead, calculate center on demand.
Fix that some API missing nameProperty and geoJSON should cached not only by mapName but also by nameProperty.
About focus-blur on component:

Support component focus blur. The option emphasis.focus can be specified to enable this feature. emphasis.focus only supports the value 'self'. The option emphasis.focusScope is not supported in component. That is, the focus scope can be only a single component itself. All of the elements in this component will be blurred. Added Component['focusBlurEnabled'] to enable component blur.
Support component hover link when highlight with a given name. There probably be multiple elements share one region name while those region elements has no common ancestor. hover link enables them to be highlighted together. Implementation: if a component implements Component['findHighDownDispatchers'],  dispatcher elements by a given name will be found and this feature is enabled.
Support component highlight/downplay be triggered by dispatchAction. Implementation: if a component implements Component['findHighDownDispatchers'],  dispatcher elements by a given name will be found and this feature is enabled.





Others

remove the support of ""load multiple geoJSON or SVG in one map name"". This feature is never documented and published. And this feature have an inherent problem that it's not easy to normalize the unit among the different SVG. After this PR, one map name can only have one geoJSON or one SVG.
Do not support nameMap in geoSVG until some real requirements come.

Test Case
test/geo-svg.html
test/geo-svg-demo.html",2,3
14574,2021-04-01T07:37:11Z,2021-04-06T05:58:17Z,2021-04-06T05:58:17Z,2,9,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Like scatter, effectScatter should have clip
Fixed issues
Close #14558
Inspired by scatter
Details
Before: What was the problem?

After: How is it fixed in this PR?

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14578,2021-04-02T01:16:56Z,2021-04-07T04:21:11Z,2021-04-07T04:21:11Z,6,66,7,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?
Fix map label won't update its position when labelLayout is used.
Fixed issues
#14091
Details
Before

After",2,2
14593,2021-04-04T12:59:56Z,2021-04-06T05:55:02Z,2021-04-06T05:55:02Z,1,1,1,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix a bug that the line width will be unexpectedly large because of using a string value.
Fixed issues

#14591

Details
Before: What was the problem?



After: How is it fixed in this PR?


Convert the type of the line width to number before the addition

Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
14602,2021-04-07T02:42:30Z,2021-04-25T08:42:35Z,2021-04-25T08:42:35Z,3,253,19,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

Fix a bug that the chart cannot be rendered for Infinite value, fix #7293, #14534, #14601.
Fixed issues

#7293
#14534
#14601

Details
Before: What was the problem?

The chart cannot be rendered since the error below,
Failed to execute 'createLinearGradient' on 'CanvasRenderingContext2D': The provided double value is non-finite

After: How is it fixed in this PR?




Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
Please refer to test/linear-gradient.html.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information
Related PR in zrender: ecomfe/zrender#748",2,5
14620,2021-04-08T07:32:01Z,2021-06-30T02:07:47Z,2021-06-30T02:07:47Z,2,125,2,"Brief Information
This pull request is in the type of:

 bug fixing
 new feature
 others

What does this PR do?

timelinePlayChanged event is fired when timeline paused, so it should be fired when play to the end when not looping.
This PR makes it fires this event.
Fixed issues
#14588
Details
Before: What was the problem?


When loop is false and timeline plays to the end, no event is fired.
After: How is it fixed in this PR?
When loop is false and timeline plays to the end, timelinePlayChanged event is fired.
Usage
Are there any API changes?

 The API has been changed.


Related test cases or examples to use the new APIs
NA.
Others
Merging options

 Please squash the commits into a single one when merge.

Other information",2,2
